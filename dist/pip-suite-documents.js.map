{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","../node_modules/async/lib/async.js","../node_modules/process/browser.js","../node_modules/timers-browserify/main.js","src/add_documents/AddDocument.ts","src/data/Attachment.ts","src/data/BlobInfo.ts","src/data/DataPage.ts","src/data/DocumentDataService.ts","src/data/IDocumentDataService.ts","src/data/index.ts","src/document_list/DocumentList.ts","src/document_list_edit/DocumentListEdit.ts","src/document_url_dialog/DocumentUrlDialogService.ts","src/index.ts","src/rest/DocumentResources.ts","src/rest/FileResources.ts","src/rest/index.ts","temp/pip-suite-documents-html.js"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pip-suite-documents.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","import { IDocumentUrlDialogService } from '../document_url_dialog/IDocumentUrlDialogService';\ndeclare let unescape: any;\n\nconst ConfigTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'FILE_DOCUMENTS': 'Upload document',\n        'WEB_LINK': 'Use web link'\n    });\n    pipTranslateProvider.translations('ru', {\n        'FILE_DOCUMENTS': ' ',\n        'WEB_LINK': '  '\n    });\n}\n\n{\n    interface IAddDocumentScope extends angular.IScope {\n        $document: any;\n        onChange: any;\n        multi: any;\n        ngDisabled: any;\n    }\n\n    class AddDocumentsOnChangeParams {\n        public url: string;\n        public file: any;\n    }\n\n    class AddDocumentController {\n        constructor(\n            private $scope: IAddDocumentScope,\n            private $element: JQuery,\n            private $mdMenu,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentUrlDialog: IDocumentUrlDialogService\n        ) {\n            \"ngInject\";\n\n        }\n\n        public openMenu($mdOpenMenu): void {\n            if (this.$scope.ngDisabled()) {\n                return;\n            }\n            $mdOpenMenu();\n        }\n\n        private toBoolean(value: any): boolean {\n            if (!value) { return false; }\n\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public isMulti(): boolean {\n            if (this.$scope.multi !== undefined && this.$scope.multi !== null) {\n                if (angular.isFunction(this.$scope.multi)) {\n                    return this.toBoolean(this.$scope.multi());\n                } else {\n                    return this.toBoolean(this.$scope.multi);\n                }\n            } else {\n                return true;\n            }\n        }\n\n        public hideMenu(): void {\n            this.$mdMenu.hide();\n        }\n\n        public addDocuments(documents: any): void {\n\n            if (documents === undefined) { return; }\n\n            if (Array.isArray(documents)) {\n                documents.forEach((img) => {\n                    if (this.$scope.onChange) {\n                        let params: AddDocumentsOnChangeParams = { url: img.url, file: img.file };\n                        this.$scope.onChange(params);\n                    }\n                });\n            } else {\n                if (this.$scope.onChange) {\n                    let params: AddDocumentsOnChangeParams = { url: documents.url, file: documents.file };\n                    this.$scope.onChange(params);\n                }\n            }\n\n            if (this.$scope.$document === undefined || !Array.isArray(this.$scope.$document)) {\n                return;\n            }\n\n            if (Array.isArray(documents)) {\n                documents.forEach((img) => {\n                    this.$scope.$document.push(img.url);\n                });\n            } else {\n                this.$scope.$document.push(documents.url);\n            }\n        }\n\n        // Process user actions\n        public onFileChange($files: any): void {\n            if ($files == null || $files.length == 0) { return; }\n\n            $files.forEach((file) => {\n                if (file.type.indexOf('image') > -1) {\n                    this.$timeout(() => {\n                        let fileReader = new FileReader();\n                        fileReader.readAsDataURL(file);\n                        fileReader.onload = (e) => {\n                            this.$timeout(() => {\n                                this.addDocuments({ url: null, file: file });\n                            });\n                        }\n                    });\n                }\n            });\n\n        }\n\n        public onWebLinkClick(): void {\n            this.pipDocumentUrlDialog.show((result) => {\n                this.addDocuments({ url: result, file: null });\n            });\n        }\n\n    }\n\n    const AddDocument = function (): ng.IDirective {\n        return {\n            restrict: 'AC',\n            scope: {\n                $document: '=pipDocuments',\n                onChange: '&pipChanged',\n                multi: '&pipMulti',\n                ngDisabled: '&'\n            },\n            transclude: true,\n            templateUrl: 'add_documents/AddDocument.html',\n            controller: AddDocumentController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular\n        .module('pipAddDocument', ['DocumentUrlDialog'])\n        .config(ConfigTranslations)\n        .directive('pipAddDocument', AddDocument);\n}\n","export class Attachment {\n    public constructor(id?: string, uri?: string, name?: string) {\n        this.id = id;\n        this.uri = uri;\n        this.name = name;\n    }\n    public id?: string;\n    public uri?: string;\n    public name?: string;\n} ","export class BlobInfo {\n\n    public constructor(id: string, group: string, name: string, size?: number,\n        content_type?: string, create_time?: Date, expire_time?: Date, completed?: boolean) {\n        this.id = id;\n        this.group = group;\n        this.name = name;\n        this.size = size;\n        this.content_type = content_type;\n        this.create_time = create_time;\n        this.expire_time = expire_time;\n        this.completed = completed;\n    }\n\n    /* Identification */\n    public id: string;\n    public group: string;\n    public name: string;\n\n    /* Content */\n    public size: number;\n    public content_type: string;\n    public create_time: Date;\n    public expire_time: Date;\n    public completed: boolean;\n}","export class DataPage<T> {\n    public constructor(data: T[] = null, total: number = null) {\n\t\tthis.total = total;\n\t\tthis.data = data;\n\t}\n\n    public total: number;\n    public data: T[];\n}","import { IDocumentDataService, IDocumentDataProvider, DocumentConfig } from './IDocumentDataService';\nimport { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nclass DocumentData implements IDocumentDataService {\n    private RESOURCE: string = 'documents';\n    private RESOURCE_INFO: string = 'documentsInfo';\n\n    private PAGE_SIZE: number = 100;\n    private PAGE_START: number = 0;\n    private PAGE_TOTAL: boolean = true;\n\n    constructor(\n        private _config: DocumentConfig,\n        private pipRest: pip.rest.IRestService,\n        private pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n    }\n\n\n    public get DocumentRoute(): string {\n        return this._config.DocumentRoute;\n    }\n\n    public getDocumentUrl(id: string): string {\n        return this.pipRest.serverUrl + this._config.DocumentRoute + '/' + id;\n    }\n\n    public postDocumentUrl(): string {\n        return this.pipRest.serverUrl + this._config.DocumentRoute;\n    }\n\n\n    public readDocuments(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE).page(params, successCallback, errorCallback);\n    }\n\n    public readDocumentInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n        params = params || {};\n        if (params.filter) {\n            params.filer = this.pipFormat.filterToString(params.filer);\n        }\n\n        return this.pipRest.getResource(this.RESOURCE_INFO).get(params, successCallback, errorCallback);\n    }\n\n    public readDocument(id: string, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any> {\n\n        return this.pipRest.getResource(this.RESOURCE).get({\n            blob_id: id\n        }, successCallback, errorCallback);\n    }\n\n    public deleteDocument(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void {\n        this.pipRest.getResource(this.RESOURCE).remove(\n            { blob_id: id },\n            null,\n            successCallback,\n            errorCallback\n        );\n    }\n}\n\n\nclass DocumentDataProvider implements IDocumentDataProvider {\n    private _service: IDocumentDataService;\n    private _config: DocumentConfig;\n\n    constructor(\n        private pipRestProvider: pip.rest.IRestProvider\n    ) {\n        this._config = new DocumentConfig();\n\n        this._config.DocumentRoute = '/api/1.0/blobs';\n    }\n\n    public get DocumentRoute(): string {\n        return this._config.DocumentRoute;\n    }\n\n    public set DocumentRoute(value: string) {\n        this._config.DocumentRoute = value;\n\n        this.pipRestProvider.registerOperation('documents', this._config.DocumentRoute + '/:document_id');\n        this.pipRestProvider.registerResource('documentInfo', this._config.DocumentRoute + '/:document_id/info');\n    }\n\n    public $get(\n        pipRest: pip.rest.IRestService,\n        pipFormat: pip.services.IFormat\n    ) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new DocumentData(this._config, pipRest, pipFormat);\n        }\n\n        return this._service;\n    }\n\n}\n\n\nangular\n    .module('pipDocumentData', ['pipRest', 'pipServices'])\n    .provider('pipDocumentData', DocumentDataProvider);\n\n\n","import { BlobInfo } from './BlobInfo';\nimport { DataPage } from './DataPage';\n\nexport class DocumentConfig {\n    public DocumentRoute: string;\n}\n\nexport interface IDocumentDataService {\n    DocumentRoute: string;\n\n    getDocumentUrl(id: string): string;\n    postDocumentUrl(): string\n\n    readDocuments(params: any, successCallback?: (data: DataPage<BlobInfo>) => void, errorCallback?: (error: any) => void): angular.IPromise<any>\n    readDocumentInfo(params: any, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    readDocument(id: string, successCallback?: (data: BlobInfo) => void, errorCallback?: (error: any) => void): angular.IPromise<any>;\n    deleteDocument(id: string, successCallback?: () => void, errorCallback?: (error: any) => void): void;\n}\n\n\nexport interface IDocumentDataProvider extends ng.IServiceProvider {\n    // bases document route string? sach as: '/api/1.0/blobs'\n    DocumentRoute: string;\n}\n","import './Attachment';\nimport './BlobInfo';\nimport './DataPage';\nimport './DocumentDataService';\nimport './IDocumentDataService';\n\nangular\n    .module('pipDocuments.Data', [\n        'pipDocumentData'\n    ]);\n\nexport * from './Attachment';\nexport * from './BlobInfo';\nexport * from './DataPage';\nexport * from './IDocumentDataService';\n","import { DefaultDocumentIcon } from '../document_list_edit/DocumentListEdit';\nimport { Attachment } from '../data/Attachment';\nimport { IDocumentDataService } from '../data/IDocumentDataService';\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            DOCUMENTS_ATTACHED: 'document(s) attached',\n            ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\n        });\n        (pipTranslate).setTranslations('ru', {\n            DOCUMENTS_ATTACHED: ' ',\n            ERROR_DOCUMENTS_LOADED: ': <%= error_number %> ()  '\n        });\n    }\n}\n\n{\n\n    interface DocumentListBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        documents: any;\n        collapsable: any;\n        pipDocumentIcon: any;\n        rebind: any;\n    }\n\n    const DocumentListBindings: DocumentListBindings = {\n        ngDisabled: '&?',\n        documents: '<pipDocuments',\n        collapsable: '<?pipCollapse',\n        pipDocumentIcon: '<?pipDocumentIcon',\n        rebind: '<?pipRebind'\n    }\n\n    class DocumentListChanges implements ng.IOnChangesObject, DocumentListBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n        documents: ng.IChangesObject<Attachment[]>;\n        collapsable: ng.IChangesObject<boolean>;\n        pipDocumentIcon: ng.IChangesObject<boolean>;\n        rebind: ng.IChangesObject<boolean>;\n    }\n\n    class DocumentListController {\n        private documentsContainer: JQuery;\n        private up: JQuery;\n        private down: JQuery;\n\n        public ngDisabled: () => boolean;\n        public collapsable: boolean;\n        public pipDocumentIcon: boolean;\n        public documents: Attachment[];\n        public rebind: boolean;\n\n        public showDocuments: boolean;\n        public documentList: Attachment[];\n        public documentListIcon: string = DefaultDocumentIcon;\n\n        constructor(\n            private $element: JQuery,\n            private $attrs: ng.IAttributes,\n            private pipTranslate: pip.services.ITranslateService,\n            private $parse: ng.IParseService,\n            private $scope: angular.IScope,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentData: IDocumentDataService,\n            private pipRest: pip.rest.IRestService\n        ) {\n            \"ngInject\";\n\n            // Add class\n            this.$element.addClass('pip-document-list');\n        }\n\n        public $postLink() {\n            this.documentsContainer = this.$element.children('.pip-documents-container');\n            this.up = this.$element.find('.icon-up');\n            this.down = this.$element.find('.icon-down');\n            this.documents = this.documents || [];\n            this.showDocuments = this.collapsable;\n\n            if (!this.collapsable) {\n                this.up.hide();\n                this.documentsContainer.hide();\n            } else {\n                this.down.hide();\n            }\n\n            if (this.ngDisabled()) {\n                this.up.hide();\n                this.down.hide();\n            }\n        }\n\n        public onDownload(item): void {\n            let e = document.createEvent('MouseEvents');\n            let a = document.createElement('a');\n\n            a.href = this.pipDocumentData.getDocumentUrl(item.id);;\n            a.dataset['downloadurl'] = ['undefined', a.download, a.href].join(':');\n            e.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, true, false, false, false, 0, null);\n            a.dispatchEvent(e);\n        }\n\n        public $onChanges(changes: DocumentListChanges) {\n            if (this.toBoolean(this.rebind)) {\n                if (changes.documents && changes.documents.currentValue) {\n                    if (this.differentDocumentList(changes.documents.currentValue)) {\n                        this.documents = changes.documents.currentValue;\n                    }\n                }\n            }\n        }\n\n        public differentDocumentList(newList: Attachment[]): boolean {\n            let i: number, obj: Attachment;\n\n            if (!this.documents || newList) { return true; }\n            if (this.documents.length !== newList.length) { return true; }\n\n            for (i = 0; i < newList.length; i++) {\n                obj = _.find(this.documents, { id: newList[i].id });\n\n                if (obj === undefined) { return true; }\n            }\n\n            return false;\n        }\n\n        public onTitleClick(event: ng.IAngularEvent): void {\n            if (event) { event.stopPropagation(); }\n\n            if (this.$attrs.disabled) { return; }\n\n            this.showDocuments = !this.showDocuments;\n            this.up[this.showDocuments ? 'show' : 'hide']();\n            this.down[!this.showDocuments ? 'show' : 'hide']();\n            this.documentsContainer[this.showDocuments ? 'show' : 'hide']();\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n    }\n\n    const documentList: ng.IComponentOptions = {\n        bindings: DocumentListBindings,\n        templateUrl: 'document_list/DocumentList.html',\n        controller: DocumentListController,\n    }\n\n    angular\n        .module(\"pipDocumentList\", ['pipFocused', 'pipDocuments.Templates'])\n        .run(ConfigTranslations)\n        .component('pipDocumentList', documentList);\n}","export let DefaultDocumentIcon: string = 'document';\nimport { Attachment, BlobInfo } from '../data';\nimport { IDocumentDataService } from '../data/IDocumentDataService';\n\nlet async = require('async');\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            DOCUMENT_LIST_EDIT_TEXT: 'Click here to add a document',\n            ERROR_TRANSACTION_IN_PROGRESS: 'Transaction is in progress. Please, wait until it\\'s finished or abort'\n        });\n        (pipTranslate).setTranslations('ru', {\n            DOCUMENT_LIST_EDIT_TEXT: ' ,   ',\n            ERROR_TRANSACTION_IN_PROGRESS: '   .     '\n        });\n    }\n}\n\nexport class DocumentListEditControl {\n    uploading: number = 0;\n    items: DocumentListEditItem[];\n    reset: () => void;\n    save: (successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void) => void;\n    abort: () => void;\n    error?: any;\n}\n\nexport class DocumentUploadErrors {\n    id: string;\n    uri: string;\n    name: string;\n    error: any;\n}\n\nexport class DocumentListEditItem {\n    pin: number;\n    id: string;\n    name: string;\n    uri?: string;\n    uploading: boolean;\n    uploaded: boolean;\n    upload?: any;\n    progress: number;\n    file: any;\n    state: string;\n    error: any\n}\n\n{\n    interface IDocumentListEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipCreated: any;\n        pipChanged: any;\n        documents: any;\n        addedDocument: any;\n        documentListText: any;\n        documentListIcon: any;\n        cancelDrag: any;\n    }\n\n    const DocumentListEditBindings: IDocumentListEditBindings = {\n        ngDisabled: '&?',\n        pipCreated: '&?',\n        pipChanged: '&?',\n        documents: '=?pipDocuments',\n        addedDocument: '&?pipAddedDocument',\n        documentListText: '<?pipDefaultText',\n        documentListIcon: '<?pipDefaultIcon',\n        cancelDrag: '<?pipCanselDrag'\n    }\n\n    class DocumentListEditChanges implements ng.IOnChangesObject, IDocumentListEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n        // Not one way bindings\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipCreated: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        documents: ng.IChangesObject<Attachment[]>;\n        addedDocument: ng.IChangesObject<() => boolean>;\n        documentListText: ng.IChangesObject<string>;\n        documentListIcon: ng.IChangesObject<string>;\n        cancelDrag: ng.IChangesObject<() => boolean>;\n    }\n\n    class SenderEvent {\n        sender: DocumentListEditControl;\n    }\n\n    class DocEvent {\n        $event: SenderEvent;\n        $control: DocumentListEditControl;\n    }\n\n    class DocumentStates {\n        static Original: string = 'original';\n        static Copied: string = 'copied';\n        static Added: string = 'added';\n        static Error: string = 'error';\n        static Deleted: string = 'deleted';\n    }\n\n    class DocumentListEditController {\n        private _pipTranslate: pip.services.ITranslateService;\n        private _elementDocumentDrop: JQuery;\n        private _itemPin: number = 0;\n        private documentStartState: string;\n        private loadedFiles: boolean\n\n        private cancelQuery: any;\n\n        public ngDisabled: () => boolean;\n        public pipCreated: (params: DocEvent) => void;\n        public pipChanged: (params: DocEvent) => void;\n        public documents: Attachment[];\n        public addedDocument: () => boolean;\n        public cancelDrag: () => boolean;\n        public documentListText: string;\n        public documentListIcon: string;\n        public iconError: string;\n\n        public control: DocumentListEditControl;\n\n        constructor(\n            private $log: ng.ILogService,\n            private $element: JQuery,\n            private $injector: ng.auto.IInjectorService,\n            private pipRest: pip.rest.IRestService,\n            private $timeout: ng.ITimeoutService,\n            private pipDocumentData: IDocumentDataService,\n            private pipFileUpload: pip.files.IFileUploadService\n\n        ) {\n            \"ngInject\";\n\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\n\n            this._elementDocumentDrop = $element.children('.pip-document-drop');\n\n            if (!this.documentListText) {\n                this.documentListText = 'DOCUMENT_LIST_EDIT_TEXT';\n            }\n            if (!this.documentListIcon) {\n                this.documentListIcon = 'document';\n            }\n            this.iconError = 'warn-circle';\n            this.documentStartState = this.toBoolean(this.addedDocument) ? DocumentStates.Copied : DocumentStates.Original;\n\n            this.control = {\n                uploading: 0,\n                items: this.getItems(),\n                reset: () => {\n                    this.resetDocument();\n                },\n                save: (successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void) => {\n                    this.saveDocument(successCallback, errorCallback);\n                },\n                abort: () => {\n                    this.onAbort();\n                },\n                error: null\n            };\n\n            this.control.reset();\n            this.executeCallback();\n            // Add class\n            this.$element.addClass('pip-document-list-edit');\n        }\n\n        public $onChanges(changes: DocumentListEditChanges): void {\n            if (changes.documents && changes.documents.currentValue) {\n                if (!_.isEqual(this.documents, changes.documents.currentValue)) {\n                    this.control.reset();\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) {\n                return false;\n            }\n            if (!value) {\n                return false;\n            }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getItems(): DocumentListEditItem[] {\n            let items: DocumentListEditItem[] = [];\n            let i: number;\n\n            if (this.documents === null || this.documents.length === 0) {\n                return items;\n            }\n\n            for (i = 0; i < this.documents.length; i++) {\n                let item: DocumentListEditItem = {\n                    pin: this._itemPin++,\n                    id: this.documents[i].id,\n                    name: this.documents[i].name,\n                    uri: this.documents[i].uri,\n                    uploading: false,\n                    uploaded: false,\n                    progress: 50,\n                    file: null,\n                    state: this.documentStartState,\n                    error: null\n                }\n                items.push(item);\n            }\n\n            return items;\n        }\n\n        private setItems(): void {\n            let item: DocumentListEditItem;\n            let i: number;\n\n            // Clean the array\n            if (this.documents && this.documents.length > 0) {\n                this.documents.splice(0, this.documents.length);\n            }\n            for (i = 0; i < this.control.items.length; i++) {\n                item = this.control.items[i];\n\n                if ((item.id || item.uri) && item.state != DocumentStates.Deleted) {\n                    let newDoc: Attachment = {\n                        id: item.id,\n                        name: item.name,\n                        uri: item.uri\n                    };\n                    this.documents.push(newDoc);\n                }\n            }\n        }\n\n        private getUploadErors(): DocumentUploadErrors[] {\n            let errors: DocumentUploadErrors[] = [];\n\n            _.each(this.control.items, (item: DocumentListEditItem) => {\n                if (item.state == DocumentStates.Error || item.error) {\n                    errors.push({\n                        id: item.id,\n                        uri: item.uri,\n                        name: item.name,\n                        error: item.error\n                    })\n                }\n            });\n\n            return errors;\n        }\n\n        public isDisabled(): boolean {\n            if (this.control.uploading) {\n                return true;\n            }\n\n            if (this.ngDisabled) {\n                return this.ngDisabled();\n            }\n\n            return false;;\n        }\n\n        private resetDocument(): void {\n            this.control.uploading = 0;\n            this.control.items = this.getItems();\n        }\n\n        private deleteItem(item: DocumentListEditItem, callback: (error?: any) => void): void {\n            // Avoid double transactions\n            if (item.upload) {\n                item.upload.abort();\n                item.upload = null;\n            }\n\n            if (item.state !== DocumentStates.Deleted) { return; }\n\n            // if attachment by uri\n            this.removeItem(item);\n            callback();\n        }\n\n        private saveDocument(successCallback?: (data: Attachment[]) => void, errorCallback?: (error: any) => void): void {\n            let item: DocumentListEditItem;\n            let onItemCallback: (error: any) => void;\n            let i: number;\n\n            if (this.control.uploading) {\n                if (errorCallback) {\n                    errorCallback('ERROR_TRANSACTION_IN_PROGRESS');\n                }\n\n                return;\n            }\n\n            this.cancelQuery = null;\n            this.control.error = null;\n            this.control.uploading = 0;\n\n            let addedBlobCollection = [];\n            let addedUrlCollection = [];\n\n            _.each(this.control.items, (item) => {\n                if (item.state == 'added') {\n                    if (!item.uri) {\n                        addedBlobCollection.push(item);\n                    } else {\n                        addedUrlCollection.push(item);\n                    }\n                }\n            });\n\n\n            let deletedCollection = _.filter(this.control.items, { state: 'deleted' });\n\n            // process addedUrlCollection\n            _.each(addedUrlCollection, (item) => {\n                item.uploaded = true;\n                item.uploading = false;\n                item.progress = 0;\n                item.upload = null;\n                item.file = null;\n                item.state = DocumentStates.Original;\n            });\n\n            if (!addedBlobCollection.length && !deletedCollection.length) {\n                // do nothing\n                if (addedUrlCollection.length > 0) {\n                    this.setItems();\n                }\n                this.control.uploading = 0;\n                if (successCallback) {\n                    successCallback(this.documents);\n                }\n\n                return;\n            }\n\n            this.control.uploading = addedBlobCollection.length + deletedCollection.length;\n            async.parallel([\n                (callbackAll) => {\n                    // add documents\n                    _.each(addedBlobCollection, (item) => {\n                        item.uploading = true;\n                        item.progress = 0;\n                    });\n                    this.pipFileUpload.multiUpload(\n                        this.pipDocumentData.postDocumentUrl(),\n                        addedBlobCollection,\n                        (index: number, data: BlobInfo, err: any) => {\n                            let item = addedBlobCollection[index];\n                            this.addItem(item, data, err);\n\n                            if (err) {\n                                this.control.error = true;\n                            }\n                        },\n                        (index: number, state: pip.files.FileUploadState, progress: number) => {\n                            // update item progress \n                            let item = addedBlobCollection[index];\n                            item.progress = progress;\n                        },\n                        (error: any, result: any, res: any) => {\n                            // reset upload abort\n                            this.cancelQuery = null;\n                            callbackAll();\n                        },\n                        (cancelQuery: any) => {\n                            this.cancelQuery = cancelQuery;\n                        },\n                        false,\n                        'pin'\n                    );\n                },\n                (callbackAll) => {\n                    // delete documents\n                    if (deletedCollection.length) {\n                        async.each(deletedCollection,\n                            (item, callback) => {\n                                this.deleteItem(item, (error: any) => { callback() });\n                            },\n                            (error, result) => {\n                                callbackAll();\n                            });\n                    } else {\n                        callbackAll();\n                    }\n\n                }\n            ],\n                // optional callback\n                (error, results) => {\n                    if (error && !this.control.error) {\n                        this.control.error = error;\n                    }\n                    if (this.control.error) {\n\n                        this.control.uploading = 0;\n                        let errors = this.getUploadErors();\n                        if (errorCallback) {\n                            errorCallback(errors);\n                        } else {\n                            this.$log.error(this.control.error);\n                        }\n                    } else {\n                        this.setItems();\n                        this.control.uploading = 0;\n                        if (successCallback) {\n                            successCallback(this.documents);\n                        }\n                    }\n\n\n                });\n\n        }\n\n        private addItem(oldItem: DocumentListEditItem, fileInfo: BlobInfo, error: any) {\n            let itemIndex = _.findIndex(this.control.items, { pin: oldItem.pin });\n            if (itemIndex < 0) return;\n            if (error) {\n                this.control.items[itemIndex].uploaded = false;\n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].state = DocumentStates.Error;\n                this.control.items[itemIndex].error = error;\n\n            } else {\n                if (fileInfo) {\n                    this.control.items[itemIndex].id = fileInfo.id;\n                    this.control.items[itemIndex].name = fileInfo.name;\n                    this.control.items[itemIndex].uploaded = true;\n                    this.control.items[itemIndex].state = DocumentStates.Original;\n                } else {\n                    this.control.items[itemIndex].uploaded = false;\n                }\n                this.control.items[itemIndex].uploading = false;\n                this.control.items[itemIndex].progress = 0;\n                this.control.items[itemIndex].upload = null;\n                this.control.items[itemIndex].file = null;\n                this.control.items[itemIndex].error = null;\n            }\n        }\n\n        public onAbort(): void {\n            let item: DocumentListEditItem;\n            let i: number;\n\n            for (i = 0; i < this.control.items.length; i++) {\n                item = this.control.items[i];\n\n                if (item.uploading) {\n                    if (item.upload) {\n                        item.upload.abort();\n                    }\n\n                    item.uploaded = false;\n                    item.uploading = false;\n                    item.progress = 0;\n                    item.upload = null;\n                }\n            }\n\n            // abort upload\n            if (this.cancelQuery) {\n                this.cancelQuery.resolve();\n            }\n            // Abort transaction\n            this.control.uploading = 0;\n            this.control.error = true;\n        }\n\n        // Visualization functions\n        public filterItem(item: DocumentListEditItem): boolean {\n            return item.state !== DocumentStates.Deleted;\n        }\n\n        // Process user actions\n        public readItemLocally(url: string, file: any): void {\n\n            let item: DocumentListEditItem = {\n                pin: this._itemPin++,\n                id: null,\n                name: file ? file.name : url ? url.split('/').pop() : null,\n                uri: !file && url ? url : null,\n                uploading: false,\n                uploaded: false,\n                progress: 0,\n                file: file ? file : null,\n                state: DocumentStates.Added,\n                error: null\n            };\n\n            this.control.items.push(item);\n\n            this.onChange();\n        }\n\n        private removeItem(item: DocumentListEditItem): void {\n            if (item.state === DocumentStates.Added || item.state === DocumentStates.Copied) {\n                let index = _.findIndex(this.control.items, { pin: item.pin });\n                if (index > -1) {\n                    this.control.items.splice(index, 1);\n                }\n            } else {\n                item.state = DocumentStates.Deleted;\n            }\n        }\n\n        public onDelete(item: DocumentListEditItem): void {\n            this.removeItem(item);\n\n            this.onChange();\n        }\n\n        public onKeyDown($event: JQueryEventObject, item: DocumentListEditItem): void {\n            if (item) {\n                if ($event.keyCode === 46 || $event.keyCode === 8) {\n                    this.removeItem(item);\n\n                    this.onChange();\n                }\n            } else if ($event.keyCode === 13 || $event.keyCode === 32) {\n                // !! Avoid clash with $apply()\n                setTimeout(() => {\n                    this._elementDocumentDrop.trigger('click');\n                }, 0);\n            }\n        }\n\n        // On change event\n        public onChange() {\n            if (this.pipChanged) {\n                this.pipChanged({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n\n        private executeCallback() {\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    $event: { sender: this.control },\n                    $control: this.control\n                });\n            }\n        }\n    }\n\n    const documentListEdit: ng.IComponentOptions = {\n        bindings: DocumentListEditBindings,\n        templateUrl: 'document_list_edit/DocumentListEdit.html',\n        controller: DocumentListEditController\n    }\n\n    angular\n        .module(\"pipDocumentListEdit\", ['ui.event', 'pipFocused', 'pipDocuments.Templates', 'pipFiles', 'DocumentUrlDialog'])\n        .run(ConfigTranslations)\n        .component('pipDocumentListEdit', documentListEdit);\n}\n\n","import { IDocumentUrlDialogService } from './IDocumentUrlDialogService';\n\nclass DocumentUrlDialogService implements IDocumentUrlDialogService {\n    private _mdDialog: angular.material.IDialogService;\n\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(successCallback?: (result) => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            templateUrl: 'document_url_dialog/DocumentUrlDialog.html',\n            clickOutsideToClose: true,\n            controller: DocumentUrlDialogController,\n            controllerAs: '$ctrl'\n        })\n            .then(\n            (result) => {\n                if (successCallback) {\n                    successCallback(result);\n                }\n            });\n    }\n}\n\n\nconst ConfigDocumentUrlDialogTranslations = (pipTranslateProvider: pip.services.ITranslateProvider) => {\n    pipTranslateProvider.translations('en', {\n        'DOCUMENT_FROM_WEBLINK': 'Add web link',\n        'LINK_DOCUMENT': 'Link to the document...'\n    });\n    pipTranslateProvider.translations('ru', {\n        'DOCUMENT_FROM_WEBLINK': '  ',\n        'LINK_DOCUMENT': '  ...'\n    });\n}\n\nclass DocumentUrlDialogController {\n    public url: string = '';\n    public invalid: boolean = true;\n    public theme: string;\n    private ExpressionURI: any;\n    private regexURI: any;\n    public matchURI: boolean;\n\n    constructor(\n        private $log: ng.ILogService,\n        private $scope: ng.IScope,\n        private $mdDialog: angular.material.IDialogService,\n        private $rootScope: ng.IRootScopeService,\n        private $timeout: ng.ITimeoutService,\n        private $mdMenu\n    ) {\n        \"ngInject\";\n\n        this.theme = this.$rootScope[pip.themes.ThemeRootVar];\n\n        this.ExpressionURI = /^([a-z][a-z0-9+.-]*):(?:\\/\\/((?:(?=((?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*))(\\3)@)?(?=(\\[[0-9A-F:.]{2,}\\]|(?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*))\\5(?::(?=(\\d*))\\6)?)(\\/(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*))\\8)?|(\\/?(?!\\/)(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/]|%[0-9A-F]{2})*))\\10)?)(?:\\?(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/?]|%[0-9A-F]{2})*))\\11)?(?:#(?=((?:[a-z0-9-._~!$&'()*+,;=:@\\/?]|%[0-9A-F]{2})*))\\12)?$/i;\n        this.regexURI = new RegExp(this.ExpressionURI);\n        this.matchURI = false;\n    }\n\n    public checkUrl(): void {\n        if (this.url.match(this.regexURI)) {\n            this.matchURI = true;\n        } else {\n            this.matchURI = false;\n        }\n\n    };\n\n    public onCancelClick(): void {\n        this.$mdDialog.cancel();\n    };\n\n    public onAddClick(): void {\n        this.$mdDialog.hide(this.url);\n    };\n\n}\n\nangular\n    .module('DocumentUrlDialog', ['ngMaterial', 'pipDocuments.Templates'])\n    .service('pipDocumentUrlDialog', DocumentUrlDialogService)\n    .config(ConfigDocumentUrlDialogTranslations);","import './document_url_dialog/DocumentUrlDialogService';\nimport './document_url_dialog/IDocumentUrlDialogService';\nimport './document_list/DocumentList';\nimport './document_list_edit/DocumentListEdit';\nimport './rest';\nimport './data';\nimport './add_documents/AddDocument';\n\nangular\n    .module('pipDocuments', [\n        'DocumentUrlDialog',\n        'pipAddDocument',        \n        'pipDocuments.Rest',\n        'pipDocuments.Data',\n        'pipDocumentList',\n        'pipDocumentListEdit'\n    ]);\n\nexport * from './document_url_dialog/IDocumentUrlDialogService';\nexport * from './document_list/DocumentList';\nexport * from './document_list_edit/DocumentListEdit';\nexport * from './data';\n","// configured Rest resource\nfunction configDocumentResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('documents', '/api/1.0/blobs/:document_id',\n        { blob_id: '@document_id' },\n        {\n            page: { method: 'GET', isArray: false },\n            update: { method: 'PUT' }\n        });\n    pipRestProvider.registerResource('documentInfo', '/api/1.0/blobs/:document_id/info');\n}\n\nangular\n    .module('pipDocuments.Rest')\n    .config(configDocumentResources);\n\n\n","function configFileResources(pipRestProvider: pip.rest.IRestProvider) {\n    pipRestProvider.registerPagedCollection('files', '/api/1.0/files/:file_id');\n}\n// this.registerRoute('get', '/files', this.getFiles);\n// this.registerRoute('get', '/files/:file_id', this.getFile);\n// this.registerRouteWithAuth('post', '/files', this._auth.admin(), this.createFile);\n// this.registerRouteWithAuth('put', '/files/:file_id', this._auth.admin(), this.updateFile);\n// this.registerRouteWithAuth('del', '/files/:file_id', this._auth.admin(), this.deleteFile);\n\nangular\n    .module('pipDocuments.Rest')\n    .config(configFileResources);\n","\n\nangular\n    .module('pipDocuments.Rest', []);\n\nimport './DocumentResources';\nimport './FileResources';\n","(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('add_documents/AddDocument.html',\n    '<md-menu>\\n' +\n    '        <ng-transclude class=\"pip-add-image-open-button\" ng-click=\"vm.openMenu($mdOpenMenu)\"\\n' +\n    '                xxxng-click=\"vm.ngDisabled() ? \\'\\' : $mdOpenMenu()\"></ng-transclude>\\n' +\n    '        <md-menu-content width=\"4\">\\n' +\n    '            <md-menu-item>\\n' +\n    '                <md-button class=\"layout-row layout-align-start-center\" accept=\"image/*\"\\n' +\n    '                           ng-keydown=\"vm.onKeyDown($event)\" ng-multiple=\"vm.isMulti()\"\\n' +\n    '                           ng-file-select ng-file-change=\"vm.onFileChange($files)\" ng-click=\"vm.hideMenu()\" ng-file-drop>\\n' +\n    '                    <md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:folder\"></md-icon>\\n' +\n    '                    <span class=\"text-grey\">{{ ::\\'FILE_DOCUMENTS\\' | translate }}</span>\\n' +\n    '                </md-button>\\n' +\n    '            </md-menu-item>\\n' +\n    '            <md-menu-item>\\n' +\n    '                <md-button class=\"layout-row layout-align-start-center\" ng-click=\"vm.onWebLinkClick()\">\\n' +\n    '                    <md-icon class=\"text-headline text-grey rm24-flex\" md-svg-icon=\"icons:weblink\"></md-icon>\\n' +\n    '                    <span class=\"text-grey\">{{ ::\\'WEB_LINK\\' | translate }}</span>\\n' +\n    '                </md-button>\\n' +\n    '            </md-menu-item>\\n' +\n    '        </md-menu-content>\\n' +\n    '    </md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list/DocumentList.html',\n    '<md-button class=\"pip-documents-name\" ng-class=\"{\\'lp24-flex rp16\\': $ctrl.pipDocumentIcon }\" ng-click=\"$ctrl.onTitleClick($event); $ctrl.onResize()\"\\n' +\n    '    aria-label=\"RESIZE\">\\n' +\n    '\\n' +\n    '    <div class=\"layout-align-start-center layout-row w-stretch\">\\n' +\n    '        <md-icon md-svg-icon=\"icons:document\" ng-class=\"{\\'pip-icon\\': $ctrl.pipDocumentIcon}\" ng-if=\"$ctrl.pipDocumentIcon\"></md-icon>\\n' +\n    '        <span class=\"pip-documents-text\">\\n' +\n    '            {{ $ctrl.documents.length }} {{ ::\\'DOCUMENTS_ATTACHED\\' | translate }}\\n' +\n    '        </span>\\n' +\n    '\\n' +\n    '        <md-icon class=\"icon-up\" md-svg-icon=\"icons:triangle-up\"></md-icon>\\n' +\n    '        <md-icon class=\"icon-down\" md-svg-icon=\"icons:triangle-down\"></md-icon>\\n' +\n    '    </div>\\n' +\n    '</md-button>\\n' +\n    '<div pip-focused class=\"pip-documents-container bm8\" ng-class=\"{ \\'lp24-flex rp24-flex\\': $ctrl.pipDocumentIcon }\">\\n' +\n    '    <md-button class=\"pip-document-download md-primary\" ng-if=\"document.uri\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\"\\n' +\n    '        href=\"{{ document.uri }}\" target=\"_blank\" ng-disabled=\"$ctrl.ngDisabled() || $ctrl.document.error\" \\n' +\n    '        ng-repeat=\"document in $ctrl.documents track by $index\"\\n' +\n    '        aria-label=\"DOCUMENT\">\\n' +\n    '\\n' +\n    '        <div class=\"pip-default-icon\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-document-title\">\\n' +\n    '            {{ ::document.name }}\\n' +\n    '        </div>\\n' +\n    '    </md-button>\\n' +\n    '    <md-button class=\"pip-document-download md-primary\" ng-if=\"!document.uri\" ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\"\\n' +\n    '        ng-click=\"$ctrl.onDownload(document)\" target=\"_blank\" ng-disabled=\"$ctrl.ngDisabled() || $ctrl.document.error\" \\n' +\n    '        ng-repeat=\"document in $ctrl.documents track by $index\"\\n' +\n    '        aria-label=\"DOCUMENT\">\\n' +\n    '\\n' +\n    '        <div class=\"pip-default-icon\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-document-title\">\\n' +\n    '            {{ ::document.name }}\\n' +\n    '        </div>\\n' +\n    '    </md-button>\\n' +\n    '</div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list/DocumentListCollapse.html',\n    '<div class=\"pip-documents-name\" ng-click=\"$ctrl.onTitleClick($event); $ctrl.onResize()\">\\n' +\n    '    <span class=\"pip-documents-text\">\\n' +\n    '        {{ documents.length }} {{ ::\\'DOCUMENTS_ATTACHED\\' | translate }}\\n' +\n    '    </span>\\n' +\n    '\\n' +\n    '    <md-icon class=\"icon-up\" md-svg-icon=\"icons:triangle-up\"></md-icon>\\n' +\n    '    <md-icon class=\"icon-down\" md-svg-icon=\"icons:triangle-down\"></md-icon>\\n' +\n    '</div>\\n' +\n    '<div pip-focused class=\"pip-documents-container bm8\">\\n' +\n    '    <md-button class=\"pip-document-download pip-focusable md-primary\"\\n' +\n    '               href=\"{{::$ctrl.document.url}}\"\\n' +\n    '               target=\"_blank\"\\n' +\n    '               ng-repeat=\"document in $ctrl.documents track by document.id\"\\n' +\n    '               aria-label=\"DOCUMENT\">\\n' +\n    '        <div class=\"pip-default-icon\">\\n' +\n    '            <md-icon md-svg-icon=\"icons:{{::$ctrl.icon}}\"></md-icon>\\n' +\n    '        </div>\\n' +\n    '        <div class=\"pip-document-title\">\\n' +\n    '            {{ ::$ctrl.document.name }}\\n' +\n    '        </div>\\n' +\n    '    </md-button>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_list_edit/DocumentListEdit.html',\n    '<div pip-focusable>\\n' +\n    '\t<div class=\"pip-document-upload pointer md-primary \"\\n' +\n    '\t\t ng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled(), \\'pip-item-error\\' : item.state == \\'error\\'}\"\\n' +\n    '\t\t ng-keydown=\"$ctrl.onKeyDown($event, item)\"\\n' +\n    '\t\t tabindex=\"{{ $ctrl.ngDisabled() ? -1 : 0 }}\"\\n' +\n    '\t\t ng-repeat=\"item in $ctrl.control.items | filter: $ctrl.filterItem track by $index\">\\n' +\n    '\\n' +\n    '\t\t<div class=\"pip-default-icon\"\\n' +\n    '\t\t\t ng-class=\"{ \\'pip-document-new\\': item.state == \\'added\\' || item.state == \\'copied\\' }\">\\n' +\n    '\t\t\t<md-icon pip-cancel-drag=\"true\" class=\"md-primary\" ng-if=\"item.state == \\'original\\' || item.state == \\'added\\'\"\\n' +\n    '\t\t\t\t\t md-svg-icon=\"icons:{{::$ctrl.documentListIcon}}\">\\n' +\n    '\t\t\t</md-icon>\\n' +\n    '\t\t\t<md-icon pip-cancel-drag=\"true\" class=\"md-warn\" ng-if=\"item.state == \\'error\\'\"\\n' +\n    '\t\t\t\t\t md-svg-icon=\"icons:{{::$ctrl.iconError}}\">\\n' +\n    '\t\t\t</md-icon>\\n' +\n    '\t\t</div>\\n' +\n    '\\n' +\n    '\t\t<div class=\"pip-document-title\" pip-cancel-drag=\"true\">\\n' +\n    '\t\t\t{{ item.name }}\\n' +\n    '\t\t</div>\\n' +\n    '\t\t<md-button ng-click=\"$ctrl.onDelete(item)\"\\n' +\n    '\t\t\t\t   ng-disabled=\"$ctrl.isDisabled()\"\\n' +\n    '\t\t\t\t   tabindex=\"-1\"\\n' +\n    '\t\t\t\t   ng-hide=\"$ctrl.ngDisabled()\"\\n' +\n    '\t\t\t\t   class=\"md-icon-button\" aria-label=\"DELETE\">\\n' +\n    '\\n' +\n    '\t\t\t<md-icon md-svg-icon=\"icons:cross\" pip-cancel-drag=\"true\"></md-icon>\\n' +\n    '\t\t</md-button>\\n' +\n    '\t\t<md-progress-linear md-mode=\"determinate\" ng-show=\"item.uploading\" ng-value=\"item.progress\"></md-progress-linear>\\n' +\n    '\t</div>\\n' +\n    '\t\\n' +\n    '\t<button class=\"pip-document-upload pip-document-drop \"\\n' +\n    '\t\t\tng-class=\"{\\'pip-focusable\\' : !$ctrl.ngDisabled()}\"\\n' +\n    '\t\t\tng-keydown=\"$ctrl.onKeyDown($event)\" tabindex=\"0\"\\n' +\n    '\t\t\txxxng-file-drop xxxng-file-select xxxng-file-change=\"$ctrl.onSelect($files)\"\\n' +\n    '\t\t\tpip-changed=\"$ctrl.readItemLocally(url, file)\"\\n' +\n    '\t\t\txxng-multiple=\"true\"\\n' +\n    '\t\t\tpip-multi=\"true\"\\n' +\n    '\t\t\tng-disabled=\"$ctrl.ngDisabled()\"\\n' +\n    '\t\t\taria-label=\"UPLOAD\"  pip-add-document>\\n' +\n    '\\n' +\n    '\t\t<div class=\"pip-default-icon\">\\n' +\n    '\t\t\t<md-icon pip-cancel-drag=\"true\" md-svg-icon=\"icons:{{ ::$ctrl.documentListIcon }}\"></md-icon>\\n' +\n    '\t\t</div>\\n' +\n    '\t\t<div class=\"pip-default-text\">\\n' +\n    '\t\t\t<span>\\n' +\n    '\t\t\t\t{{ $ctrl.documentListText | translate }}\\n' +\n    '\t\t\t</span>\\n' +\n    '\t\t</div>\\n' +\n    '\t</button>\\n' +\n    '\t<div class=\"clearfix\"></div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDocuments.Templates');\n} catch (e) {\n  module = angular.module('pipDocuments.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('document_url_dialog/DocumentUrlDialog.html',\n    '<md-dialog class=\"pip-dialog pip-document-url-dialog pip-document-dialog layout-column\"\\n' +\n    '           md-theme=\"{{ $ctrl.theme }}\">\\n' +\n    '\\n' +\n    '    <md-dialog-content class=\"pip-body lp0 rp0 tp0 pip-scroll\">\\n' +\n    '        <div class=\"pip-header bm16 layout-row layout-align-start-center\">\\n' +\n    '            <md-button  ng-click=\"$ctrl.onCancelClick()\" class=\"md-icon-button lm0\"\\n' +\n    '                        aria-label=\"{{ ::\\'CANCEL\\' | translate }}\">\\n' +\n    '                <md-icon class=\"text-grey\" md-svg-icon=\"icons:arrow-left\"></md-icon>\\n' +\n    '            </md-button>\\n' +\n    '            <h3 class=\"text-title m0\">\\n' +\n    '                {{ ::\\'DOCUMENT_FROM_WEBLINK\\' | translate}}\\n' +\n    '            </h3>\\n' +\n    '        </div>\\n' +\n    '\\n' +\n    '        <div class=\"pip-content lp16 rp16\">\\n' +\n    '            <md-input-container md-no-float class=\"w-stretch text-subhead1\">\\n' +\n    '                <input type=\"text\" ng-model=\"$ctrl.url\" ng-change=\"$ctrl.checkUrl()\" placeholder=\"{{ ::\\'LINK_DOCUMENT\\' | translate }}\"/>\\n' +\n    '            </md-input-container>\\n' +\n    '        </div>\\n' +\n    '    </md-dialog-content>\\n' +\n    '    <div class=\"pip-footer\">\\n' +\n    '        <md-button ng-click=\"$ctrl.onCancelClick()\" aria-label=\"{{ ::\\'CANCEL\\' | translate }}\">\\n' +\n    '            {{ ::\\'CANCEL\\' | translate }}\\n' +\n    '        </md-button>\\n' +\n    '\\n' +\n    '        <md-button class=\"md-accent\" ng-click=\"$ctrl.onAddClick()\" \\n' +\n    '                   aria-label=\"{{ ::\\'ADD\\' | translate }}\" ng-disabled=\"!$ctrl.matchURI\">\\n' +\n    '            {{ ::\\'ADD\\' | translate }}\\n' +\n    '        </md-button>\\n' +\n    '    </div>\\n' +\n    '</md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-documents-html.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9ub2RlX21vZHVsZXMvYXN5bmMvbGliL2FzeW5jLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIi4uL25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwic3JjL2FkZF9kb2N1bWVudHMvQWRkRG9jdW1lbnQudHMiLCJzcmMvZGF0YS9BdHRhY2htZW50LnRzIiwic3JjL2RhdGEvQmxvYkluZm8udHMiLCJzcmMvZGF0YS9EYXRhUGFnZS50cyIsInNyYy9kYXRhL0RvY3VtZW50RGF0YVNlcnZpY2UudHMiLCJzcmMvZGF0YS9JRG9jdW1lbnREYXRhU2VydmljZS50cyIsInNyYy9kYXRhL2luZGV4LnRzIiwic3JjL2RvY3VtZW50X2xpc3QvRG9jdW1lbnRMaXN0LnRzIiwic3JjL2RvY3VtZW50X2xpc3RfZWRpdC9Eb2N1bWVudExpc3RFZGl0LnRzIiwic3JjL2RvY3VtZW50X3VybF9kaWFsb2cvRG9jdW1lbnRVcmxEaWFsb2dTZXJ2aWNlLnRzIiwic3JjL2luZGV4LnRzIiwic3JjL3Jlc3QvRG9jdW1lbnRSZXNvdXJjZXMudHMiLCJzcmMvcmVzdC9GaWxlUmVzb3VyY2VzLnRzIiwic3JjL3Jlc3QvaW5kZXgudHMiLCJ0ZW1wL3BpcC1zdWl0ZS1kb2N1bWVudHMtaHRtbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNqdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyohXG4gKiBhc3luY1xuICogaHR0cHM6Ly9naXRodWIuY29tL2Nhb2xhbi9hc3luY1xuICpcbiAqIENvcHlyaWdodCAyMDEwLTIwMTQgQ2FvbGFuIE1jTWFob25cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGFzeW5jID0ge307XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodikge1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9Cb29sKHYpIHtcbiAgICAgICAgcmV0dXJuICEhdjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm90SWQodikge1xuICAgICAgICByZXR1cm4gIXY7XG4gICAgfVxuXG4gICAgLy8gZ2xvYmFsIG9uIHRoZSBzZXJ2ZXIsIHdpbmRvdyBpbiB0aGUgYnJvd3NlclxuICAgIHZhciBwcmV2aW91c19hc3luYztcblxuICAgIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIChgc2VsZmApIGluIHRoZSBicm93c2VyLCBgZ2xvYmFsYFxuICAgIC8vIG9uIHRoZSBzZXJ2ZXIsIG9yIGB0aGlzYCBpbiBzb21lIHZpcnR1YWwgbWFjaGluZXMuIFdlIHVzZSBgc2VsZmBcbiAgICAvLyBpbnN0ZWFkIG9mIGB3aW5kb3dgIGZvciBgV2ViV29ya2VyYCBzdXBwb3J0LlxuICAgIHZhciByb290ID0gdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZiAmJiBzZWxmIHx8XG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWwuZ2xvYmFsID09PSBnbG9iYWwgJiYgZ2xvYmFsIHx8XG4gICAgICAgICAgICB0aGlzO1xuXG4gICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgICBwcmV2aW91c19hc3luYyA9IHJvb3QuYXN5bmM7XG4gICAgfVxuXG4gICAgYXN5bmMubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcm9vdC5hc3luYyA9IHByZXZpb3VzX2FzeW5jO1xuICAgICAgICByZXR1cm4gYXN5bmM7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9ubHlfb25jZShmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoZm4gPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihcIkNhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC5cIik7XG4gICAgICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgZm4gPSBudWxsO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vbmNlKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChmbiA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGZuID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLy8vIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJsaXR5IGZ1bmN0aW9ucyAvLy8vXG5cbiAgICB2YXIgX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuICAgIHZhciBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9O1xuXG4gICAgLy8gUG9ydGVkIGZyb20gdW5kZXJzY29yZS5qcyBpc09iamVjdFxuICAgIHZhciBfaXNPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2lzQXJyYXlMaWtlKGFycikge1xuICAgICAgICByZXR1cm4gX2lzQXJyYXkoYXJyKSB8fCAoXG4gICAgICAgICAgICAvLyBoYXMgYSBwb3NpdGl2ZSBpbnRlZ2VyIGxlbmd0aCBwcm9wZXJ0eVxuICAgICAgICAgICAgdHlwZW9mIGFyci5sZW5ndGggPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAgIGFyci5sZW5ndGggPj0gMCAmJlxuICAgICAgICAgICAgYXJyLmxlbmd0aCAlIDEgPT09IDBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYXJyYXlFYWNoKGFyciwgaXRlcmF0b3IpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVyYXRvcihhcnJbaW5kZXhdLCBpbmRleCwgYXJyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9tYXAoYXJyLCBpdGVyYXRvcikge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGFyci5sZW5ndGgsXG4gICAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0b3IoYXJyW2luZGV4XSwgaW5kZXgsIGFycik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfcmFuZ2UoY291bnQpIHtcbiAgICAgICAgcmV0dXJuIF9tYXAoQXJyYXkoY291bnQpLCBmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaTsgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3JlZHVjZShhcnIsIGl0ZXJhdG9yLCBtZW1vKSB7XG4gICAgICAgIF9hcnJheUVhY2goYXJyLCBmdW5jdGlvbiAoeCwgaSwgYSkge1xuICAgICAgICAgICAgbWVtbyA9IGl0ZXJhdG9yKG1lbW8sIHgsIGksIGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2ZvckVhY2hPZihvYmplY3QsIGl0ZXJhdG9yKSB7XG4gICAgICAgIF9hcnJheUVhY2goX2tleXMob2JqZWN0KSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaXRlcmF0b3Iob2JqZWN0W2tleV0sIGtleSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmRleE9mKGFyciwgaXRlbSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycltpXSA9PT0gaXRlbSkgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHZhciBfa2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9rZXlJdGVyYXRvcihjb2xsKSB7XG4gICAgICAgIHZhciBpID0gLTE7XG4gICAgICAgIHZhciBsZW47XG4gICAgICAgIHZhciBrZXlzO1xuICAgICAgICBpZiAoX2lzQXJyYXlMaWtlKGNvbGwpKSB7XG4gICAgICAgICAgICBsZW4gPSBjb2xsLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gaSA8IGxlbiA/IGkgOiBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleXMgPSBfa2V5cyhjb2xsKTtcbiAgICAgICAgICAgIGxlbiA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIHJldHVybiBpIDwgbGVuID8ga2V5c1tpXSA6IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2ltaWxhciB0byBFUzYncyByZXN0IHBhcmFtIChodHRwOi8vYXJpeWEub2ZpbGFicy5jb20vMjAxMy8wMy9lczYtYW5kLXJlc3QtcGFyYW1ldGVyLmh0bWwpXG4gICAgLy8gVGhpcyBhY2N1bXVsYXRlcyB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIGFuIGFycmF5LCBhZnRlciBhIGdpdmVuIGluZGV4LlxuICAgIC8vIEZyb20gdW5kZXJzY29yZS5qcyAoaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMjE0MCkuXG4gICAgZnVuY3Rpb24gX3Jlc3RQYXJhbShmdW5jLCBzdGFydEluZGV4KSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4ID09IG51bGwgPyBmdW5jLmxlbmd0aCAtIDEgOiArc3RhcnRJbmRleDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KGFyZ3VtZW50cy5sZW5ndGggLSBzdGFydEluZGV4LCAwKTtcbiAgICAgICAgICAgIHZhciByZXN0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICByZXN0W2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleCArIHN0YXJ0SW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIHJlc3QpO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIHJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3VycmVudGx5IHVudXNlZCBidXQgaGFuZGxlIGNhc2VzIG91dHNpZGUgb2YgdGhlIHN3aXRjaCBzdGF0ZW1lbnQ6XG4gICAgICAgICAgICAvLyB2YXIgYXJncyA9IEFycmF5KHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgICAgICAgIC8vIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBhcmdzW3N0YXJ0SW5kZXhdID0gcmVzdDtcbiAgICAgICAgICAgIC8vIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF93aXRob3V0SW5kZXgoaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3IodmFsdWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLy8vIGV4cG9ydGVkIGFzeW5jIG1vZHVsZSBmdW5jdGlvbnMgLy8vL1xuXG4gICAgLy8vLyBuZXh0VGljayBpbXBsZW1lbnRhdGlvbiB3aXRoIGJyb3dzZXItY29tcGF0aWJsZSBmYWxsYmFjayAvLy8vXG5cbiAgICAvLyBjYXB0dXJlIHRoZSBnbG9iYWwgcmVmZXJlbmNlIHRvIGd1YXJkIGFnYWluc3QgZmFrZVRpbWVyIG1vY2tzXG4gICAgdmFyIF9zZXRJbW1lZGlhdGUgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nICYmIHNldEltbWVkaWF0ZTtcblxuICAgIHZhciBfZGVsYXkgPSBfc2V0SW1tZWRpYXRlID8gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgLy8gbm90IGEgZGlyZWN0IGFsaWFzIGZvciBJRTEwIGNvbXBhdGliaWxpdHlcbiAgICAgICAgX3NldEltbWVkaWF0ZShmbik7XG4gICAgfSA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwcm9jZXNzLm5leHRUaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFzeW5jLm5leHRUaWNrID0gcHJvY2Vzcy5uZXh0VGljaztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhc3luYy5uZXh0VGljayA9IF9kZWxheTtcbiAgICB9XG4gICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gX3NldEltbWVkaWF0ZSA/IF9kZWxheSA6IGFzeW5jLm5leHRUaWNrO1xuXG5cbiAgICBhc3luYy5mb3JFYWNoID1cbiAgICBhc3luYy5lYWNoID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBhc3luYy5lYWNoT2YoYXJyLCBfd2l0aG91dEluZGV4KGl0ZXJhdG9yKSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy5mb3JFYWNoU2VyaWVzID1cbiAgICBhc3luYy5lYWNoU2VyaWVzID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBhc3luYy5lYWNoT2ZTZXJpZXMoYXJyLCBfd2l0aG91dEluZGV4KGl0ZXJhdG9yKSwgY2FsbGJhY2spO1xuICAgIH07XG5cblxuICAgIGFzeW5jLmZvckVhY2hMaW1pdCA9XG4gICAgYXN5bmMuZWFjaExpbWl0ID0gZnVuY3Rpb24gKGFyciwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX2VhY2hPZkxpbWl0KGxpbWl0KShhcnIsIF93aXRob3V0SW5kZXgoaXRlcmF0b3IpLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLmZvckVhY2hPZiA9XG4gICAgYXN5bmMuZWFjaE9mID0gZnVuY3Rpb24gKG9iamVjdCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdCB8fCBbXTtcblxuICAgICAgICB2YXIgaXRlciA9IF9rZXlJdGVyYXRvcihvYmplY3QpO1xuICAgICAgICB2YXIga2V5LCBjb21wbGV0ZWQgPSAwO1xuXG4gICAgICAgIHdoaWxlICgoa2V5ID0gaXRlcigpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb21wbGV0ZWQgKz0gMTtcbiAgICAgICAgICAgIGl0ZXJhdG9yKG9iamVjdFtrZXldLCBrZXksIG9ubHlfb25jZShkb25lKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcGxldGVkID09PSAwKSBjYWxsYmFjayhudWxsKTtcblxuICAgICAgICBmdW5jdGlvbiBkb25lKGVycikge1xuICAgICAgICAgICAgY29tcGxldGVkLS07XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGtleSBpcyBudWxsIGluIGNhc2UgaXRlcmF0b3IgaXNuJ3QgZXhoYXVzdGVkXG4gICAgICAgICAgICAvLyBhbmQgZG9uZSByZXNvbHZlZCBzeW5jaHJvbm91c2x5LlxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBudWxsICYmIGNvbXBsZXRlZCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMuZm9yRWFjaE9mU2VyaWVzID1cbiAgICBhc3luYy5lYWNoT2ZTZXJpZXMgPSBmdW5jdGlvbiAob2JqLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBfb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgICAgICAgb2JqID0gb2JqIHx8IFtdO1xuICAgICAgICB2YXIgbmV4dEtleSA9IF9rZXlJdGVyYXRvcihvYmopO1xuICAgICAgICB2YXIga2V5ID0gbmV4dEtleSgpO1xuICAgICAgICBmdW5jdGlvbiBpdGVyYXRlKCkge1xuICAgICAgICAgICAgdmFyIHN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZXJhdG9yKG9ialtrZXldLCBrZXksIG9ubHlfb25jZShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gbmV4dEtleSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShpdGVyYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgc3luYyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGl0ZXJhdGUoKTtcbiAgICB9O1xuXG5cblxuICAgIGFzeW5jLmZvckVhY2hPZkxpbWl0ID1cbiAgICBhc3luYy5lYWNoT2ZMaW1pdCA9IGZ1bmN0aW9uIChvYmosIGxpbWl0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgX2VhY2hPZkxpbWl0KGxpbWl0KShvYmosIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9lYWNoT2ZMaW1pdChsaW1pdCkge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgICAgICBvYmogPSBvYmogfHwgW107XG4gICAgICAgICAgICB2YXIgbmV4dEtleSA9IF9rZXlJdGVyYXRvcihvYmopO1xuICAgICAgICAgICAgaWYgKGxpbWl0IDw9IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHJ1bm5pbmcgPSAwO1xuICAgICAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgKGZ1bmN0aW9uIHJlcGxlbmlzaCAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUgJiYgcnVubmluZyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmICFlcnJvcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBuZXh0S2V5KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmcgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3Iob2JqW2tleV0sIGtleSwgb25seV9vbmNlKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGVuaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZG9QYXJhbGxlbChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4oYXN5bmMuZWFjaE9mLCBvYmosIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvUGFyYWxsZWxMaW1pdChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGZuKF9lYWNoT2ZMaW1pdChsaW1pdCksIG9iaiwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9TZXJpZXMoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGZuKGFzeW5jLmVhY2hPZlNlcmllcywgb2JqLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9hc3luY01hcChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBfaXNBcnJheUxpa2UoYXJyKSA/IFtdIDoge307XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih2YWx1ZSwgZnVuY3Rpb24gKGVyciwgdikge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdjtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jLm1hcCA9IGRvUGFyYWxsZWwoX2FzeW5jTWFwKTtcbiAgICBhc3luYy5tYXBTZXJpZXMgPSBkb1NlcmllcyhfYXN5bmNNYXApO1xuICAgIGFzeW5jLm1hcExpbWl0ID0gZG9QYXJhbGxlbExpbWl0KF9hc3luY01hcCk7XG5cbiAgICAvLyByZWR1Y2Ugb25seSBoYXMgYSBzZXJpZXMgdmVyc2lvbiwgYXMgZG9pbmcgcmVkdWNlIGluIHBhcmFsbGVsIHdvbid0XG4gICAgLy8gd29yayBpbiBtYW55IHNpdHVhdGlvbnMuXG4gICAgYXN5bmMuaW5qZWN0ID1cbiAgICBhc3luYy5mb2xkbCA9XG4gICAgYXN5bmMucmVkdWNlID0gZnVuY3Rpb24gKGFyciwgbWVtbywgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGFzeW5jLmVhY2hPZlNlcmllcyhhcnIsIGZ1bmN0aW9uICh4LCBpLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IobWVtbywgeCwgZnVuY3Rpb24gKGVyciwgdikge1xuICAgICAgICAgICAgICAgIG1lbW8gPSB2O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBtZW1vKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLmZvbGRyID1cbiAgICBhc3luYy5yZWR1Y2VSaWdodCA9IGZ1bmN0aW9uIChhcnIsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmV2ZXJzZWQgPSBfbWFwKGFyciwgaWRlbnRpdHkpLnJldmVyc2UoKTtcbiAgICAgICAgYXN5bmMucmVkdWNlKHJldmVyc2VkLCBtZW1vLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoYXJyLCBtZW1vLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gaXRlcmF0b3I7XG4gICAgICAgICAgICBpdGVyYXRvciA9IG1lbW87XG4gICAgICAgICAgICBtZW1vID0gX2lzQXJyYXkoYXJyKSA/IFtdIDoge307XG4gICAgICAgIH1cblxuICAgICAgICBhc3luYy5lYWNoT2YoYXJyLCBmdW5jdGlvbih2LCBrLCBjYikge1xuICAgICAgICAgICAgaXRlcmF0b3IobWVtbywgdiwgaywgY2IpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgbWVtbyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfZmlsdGVyKGVhY2hmbiwgYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGluZGV4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IoeCwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe2luZGV4OiBpbmRleCwgdmFsdWU6IHh9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhfbWFwKHJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYy5zZWxlY3QgPVxuICAgIGFzeW5jLmZpbHRlciA9IGRvUGFyYWxsZWwoX2ZpbHRlcik7XG5cbiAgICBhc3luYy5zZWxlY3RMaW1pdCA9XG4gICAgYXN5bmMuZmlsdGVyTGltaXQgPSBkb1BhcmFsbGVsTGltaXQoX2ZpbHRlcik7XG5cbiAgICBhc3luYy5zZWxlY3RTZXJpZXMgPVxuICAgIGFzeW5jLmZpbHRlclNlcmllcyA9IGRvU2VyaWVzKF9maWx0ZXIpO1xuXG4gICAgZnVuY3Rpb24gX3JlamVjdChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9maWx0ZXIoZWFjaGZuLCBhcnIsIGZ1bmN0aW9uKHZhbHVlLCBjYikge1xuICAgICAgICAgICAgaXRlcmF0b3IodmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICBjYighdik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBhc3luYy5yZWplY3QgPSBkb1BhcmFsbGVsKF9yZWplY3QpO1xuICAgIGFzeW5jLnJlamVjdExpbWl0ID0gZG9QYXJhbGxlbExpbWl0KF9yZWplY3QpO1xuICAgIGFzeW5jLnJlamVjdFNlcmllcyA9IGRvU2VyaWVzKF9yZWplY3QpO1xuXG4gICAgZnVuY3Rpb24gX2NyZWF0ZVRlc3RlcihlYWNoZm4sIGNoZWNrLCBnZXRSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFyciwgbGltaXQsIGl0ZXJhdG9yLCBjYikge1xuICAgICAgICAgICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2IpIGNiKGdldFJlc3VsdChmYWxzZSwgdm9pZCAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBpdGVyYXRlZSh4LCBfLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICghY2IpIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKHgsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYiAmJiBjaGVjayh2KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoZ2V0UmVzdWx0KHRydWUsIHgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiID0gaXRlcmF0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAgICAgZWFjaGZuKGFyciwgbGltaXQsIGl0ZXJhdGVlLCBkb25lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2IgPSBpdGVyYXRvcjtcbiAgICAgICAgICAgICAgICBpdGVyYXRvciA9IGxpbWl0O1xuICAgICAgICAgICAgICAgIGVhY2hmbihhcnIsIGl0ZXJhdGVlLCBkb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYy5hbnkgPVxuICAgIGFzeW5jLnNvbWUgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZiwgdG9Cb29sLCBpZGVudGl0eSk7XG5cbiAgICBhc3luYy5zb21lTGltaXQgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZkxpbWl0LCB0b0Jvb2wsIGlkZW50aXR5KTtcblxuICAgIGFzeW5jLmFsbCA9XG4gICAgYXN5bmMuZXZlcnkgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZiwgbm90SWQsIG5vdElkKTtcblxuICAgIGFzeW5jLmV2ZXJ5TGltaXQgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZkxpbWl0LCBub3RJZCwgbm90SWQpO1xuXG4gICAgZnVuY3Rpb24gX2ZpbmRHZXRSZXN1bHQodiwgeCkge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gICAgYXN5bmMuZGV0ZWN0ID0gX2NyZWF0ZVRlc3Rlcihhc3luYy5lYWNoT2YsIGlkZW50aXR5LCBfZmluZEdldFJlc3VsdCk7XG4gICAgYXN5bmMuZGV0ZWN0U2VyaWVzID0gX2NyZWF0ZVRlc3Rlcihhc3luYy5lYWNoT2ZTZXJpZXMsIGlkZW50aXR5LCBfZmluZEdldFJlc3VsdCk7XG4gICAgYXN5bmMuZGV0ZWN0TGltaXQgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZkxpbWl0LCBpZGVudGl0eSwgX2ZpbmRHZXRSZXN1bHQpO1xuXG4gICAgYXN5bmMuc29ydEJ5ID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGFzeW5jLm1hcChhcnIsIGZ1bmN0aW9uICh4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IoeCwgZnVuY3Rpb24gKGVyciwgY3JpdGVyaWEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7dmFsdWU6IHgsIGNyaXRlcmlhOiBjcml0ZXJpYX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBfbWFwKHJlc3VsdHMuc29ydChjb21wYXJhdG9yKSwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgudmFsdWU7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBhcmF0b3IobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYSwgYiA9IHJpZ2h0LmNyaXRlcmlhO1xuICAgICAgICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFzeW5jLmF1dG8gPSBmdW5jdGlvbiAodGFza3MsIGNvbmN1cnJlbmN5LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gY29uY3VycmVuY3kgaXMgb3B0aW9uYWwsIHNoaWZ0IHRoZSBhcmdzLlxuICAgICAgICAgICAgY2FsbGJhY2sgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgICAgIGNvbmN1cnJlbmN5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayA9IF9vbmNlKGNhbGxiYWNrIHx8IG5vb3ApO1xuICAgICAgICB2YXIga2V5cyA9IF9rZXlzKHRhc2tzKTtcbiAgICAgICAgdmFyIHJlbWFpbmluZ1Rhc2tzID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIGlmICghcmVtYWluaW5nVGFza3MpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICBjb25jdXJyZW5jeSA9IHJlbWFpbmluZ1Rhc2tzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgdmFyIHJ1bm5pbmdUYXNrcyA9IDA7XG5cbiAgICAgICAgdmFyIGhhc0Vycm9yID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBhZGRMaXN0ZW5lcihmbikge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnVuc2hpZnQoZm4pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGZuKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gX2luZGV4T2YobGlzdGVuZXJzLCBmbik7XG4gICAgICAgICAgICBpZiAoaWR4ID49IDApIGxpc3RlbmVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB0YXNrQ29tcGxldGUoKSB7XG4gICAgICAgICAgICByZW1haW5pbmdUYXNrcy0tO1xuICAgICAgICAgICAgX2FycmF5RWFjaChsaXN0ZW5lcnMuc2xpY2UoMCksIGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghcmVtYWluaW5nVGFza3MpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2FycmF5RWFjaChrZXlzLCBmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgdGFzayA9IF9pc0FycmF5KHRhc2tzW2tdKSA/IHRhc2tzW2tdOiBbdGFza3Nba11dO1xuICAgICAgICAgICAgdmFyIHRhc2tDYWxsYmFjayA9IF9yZXN0UGFyYW0oZnVuY3Rpb24oZXJyLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgcnVubmluZ1Rhc2tzLS07XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhZmVSZXN1bHRzID0ge307XG4gICAgICAgICAgICAgICAgICAgIF9mb3JFYWNoT2YocmVzdWx0cywgZnVuY3Rpb24odmFsLCBya2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYWZlUmVzdWx0c1tya2V5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNhZmVSZXN1bHRzW2tdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgc2FmZVJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1trXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZSh0YXNrQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHJlcXVpcmVzID0gdGFzay5zbGljZSgwLCB0YXNrLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgLy8gcHJldmVudCBkZWFkLWxvY2tzXG4gICAgICAgICAgICB2YXIgbGVuID0gcmVxdWlyZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGRlcDtcbiAgICAgICAgICAgIHdoaWxlIChsZW4tLSkge1xuICAgICAgICAgICAgICAgIGlmICghKGRlcCA9IHRhc2tzW3JlcXVpcmVzW2xlbl1dKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hhcyBub25leGlzdGVudCBkZXBlbmRlbmN5IGluICcgKyByZXF1aXJlcy5qb2luKCcsICcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc0FycmF5KGRlcCkgJiYgX2luZGV4T2YoZGVwLCBrKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSGFzIGN5Y2xpYyBkZXBlbmRlbmNpZXMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWFkeSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVubmluZ1Rhc2tzIDwgY29uY3VycmVuY3kgJiYgX3JlZHVjZShyZXF1aXJlcywgZnVuY3Rpb24gKGEsIHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhICYmIHJlc3VsdHMuaGFzT3duUHJvcGVydHkoeCkpO1xuICAgICAgICAgICAgICAgIH0sIHRydWUpICYmICFyZXN1bHRzLmhhc093blByb3BlcnR5KGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICBydW5uaW5nVGFza3MrKztcbiAgICAgICAgICAgICAgICB0YXNrW3Rhc2subGVuZ3RoIC0gMV0odGFza0NhbGxiYWNrLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWFkeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdUYXNrcysrO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tbdGFzay5sZW5ndGggLSAxXSh0YXNrQ2FsbGJhY2ssIHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgICBhc3luYy5yZXRyeSA9IGZ1bmN0aW9uKHRpbWVzLCB0YXNrLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgREVGQVVMVF9USU1FUyA9IDU7XG4gICAgICAgIHZhciBERUZBVUxUX0lOVEVSVkFMID0gMDtcblxuICAgICAgICB2YXIgYXR0ZW1wdHMgPSBbXTtcblxuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIHRpbWVzOiBERUZBVUxUX1RJTUVTLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IERFRkFVTFRfSU5URVJWQUxcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBwYXJzZVRpbWVzKGFjYywgdCl7XG4gICAgICAgICAgICBpZih0eXBlb2YgdCA9PT0gJ251bWJlcicpe1xuICAgICAgICAgICAgICAgIGFjYy50aW1lcyA9IHBhcnNlSW50KHQsIDEwKSB8fCBERUZBVUxUX1RJTUVTO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHR5cGVvZiB0ID09PSAnb2JqZWN0Jyl7XG4gICAgICAgICAgICAgICAgYWNjLnRpbWVzID0gcGFyc2VJbnQodC50aW1lcywgMTApIHx8IERFRkFVTFRfVElNRVM7XG4gICAgICAgICAgICAgICAgYWNjLmludGVydmFsID0gcGFyc2VJbnQodC5pbnRlcnZhbCwgMTApIHx8IERFRkFVTFRfSU5URVJWQUw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgYXJndW1lbnQgdHlwZSBmb3IgXFwndGltZXNcXCc6ICcgKyB0eXBlb2YgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IDEgfHwgbGVuZ3RoID4gMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50cyAtIG11c3QgYmUgZWl0aGVyICh0YXNrKSwgKHRhc2ssIGNhbGxiYWNrKSwgKHRpbWVzLCB0YXNrKSBvciAodGltZXMsIHRhc2ssIGNhbGxiYWNrKScpO1xuICAgICAgICB9IGVsc2UgaWYgKGxlbmd0aCA8PSAyICYmIHR5cGVvZiB0aW1lcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB0YXNrO1xuICAgICAgICAgICAgdGFzayA9IHRpbWVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGltZXMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHBhcnNlVGltZXMob3B0cywgdGltZXMpO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgb3B0cy50YXNrID0gdGFzaztcblxuICAgICAgICBmdW5jdGlvbiB3cmFwcGVkVGFzayh3cmFwcGVkQ2FsbGJhY2ssIHdyYXBwZWRSZXN1bHRzKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiByZXRyeUF0dGVtcHQodGFzaywgZmluYWxBdHRlbXB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNlcmllc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2soZnVuY3Rpb24oZXJyLCByZXN1bHQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzQ2FsbGJhY2soIWVyciB8fCBmaW5hbEF0dGVtcHQsIHtlcnI6IGVyciwgcmVzdWx0OiByZXN1bHR9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgd3JhcHBlZFJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJldHJ5SW50ZXJ2YWwoaW50ZXJ2YWwpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzZXJpZXNDYWxsYmFjayl7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllc0NhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKG9wdHMudGltZXMpIHtcblxuICAgICAgICAgICAgICAgIHZhciBmaW5hbEF0dGVtcHQgPSAhKG9wdHMudGltZXMtPTEpO1xuICAgICAgICAgICAgICAgIGF0dGVtcHRzLnB1c2gocmV0cnlBdHRlbXB0KG9wdHMudGFzaywgZmluYWxBdHRlbXB0KSk7XG4gICAgICAgICAgICAgICAgaWYoIWZpbmFsQXR0ZW1wdCAmJiBvcHRzLmludGVydmFsID4gMCl7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVtcHRzLnB1c2gocmV0cnlJbnRlcnZhbChvcHRzLmludGVydmFsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3luYy5zZXJpZXMoYXR0ZW1wdHMsIGZ1bmN0aW9uKGRvbmUsIGRhdGEpe1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgKHdyYXBwZWRDYWxsYmFjayB8fCBvcHRzLmNhbGxiYWNrKShkYXRhLmVyciwgZGF0YS5yZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhIGNhbGxiYWNrIGlzIHBhc3NlZCwgcnVuIHRoaXMgYXMgYSBjb250cm9sbCBmbG93XG4gICAgICAgIHJldHVybiBvcHRzLmNhbGxiYWNrID8gd3JhcHBlZFRhc2soKSA6IHdyYXBwZWRUYXNrO1xuICAgIH07XG5cbiAgICBhc3luYy53YXRlcmZhbGwgPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgIGlmICghX2lzQXJyYXkodGFza3MpKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCB0byB3YXRlcmZhbGwgbXVzdCBiZSBhbiBhcnJheSBvZiBmdW5jdGlvbnMnKTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB3cmFwSXRlcmF0b3IoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uIChlcnIsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIFtlcnJdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaCh3cmFwSXRlcmF0b3IobmV4dCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbnN1cmVBc3luYyhpdGVyYXRvcikuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcEl0ZXJhdG9yKGFzeW5jLml0ZXJhdG9yKHRhc2tzKSkoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX3BhcmFsbGVsKGVhY2hmbiwgdGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgbm9vcDtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBfaXNBcnJheUxpa2UodGFza3MpID8gW10gOiB7fTtcblxuICAgICAgICBlYWNoZm4odGFza3MsIGZ1bmN0aW9uICh0YXNrLCBrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0YXNrKF9yZXN0UGFyYW0oZnVuY3Rpb24gKGVyciwgYXJncykge1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRzW2tleV0gPSBhcmdzO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jLnBhcmFsbGVsID0gZnVuY3Rpb24gKHRhc2tzLCBjYWxsYmFjaykge1xuICAgICAgICBfcGFyYWxsZWwoYXN5bmMuZWFjaE9mLCB0YXNrcywgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy5wYXJhbGxlbExpbWl0ID0gZnVuY3Rpb24odGFza3MsIGxpbWl0LCBjYWxsYmFjaykge1xuICAgICAgICBfcGFyYWxsZWwoX2VhY2hPZkxpbWl0KGxpbWl0KSwgdGFza3MsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuc2VyaWVzID0gZnVuY3Rpb24odGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9wYXJhbGxlbChhc3luYy5lYWNoT2ZTZXJpZXMsIHRhc2tzLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLml0ZXJhdG9yID0gZnVuY3Rpb24gKHRhc2tzKSB7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VDYWxsYmFjayhpbmRleCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrc1tpbmRleF0uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZuLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChpbmRleCA8IHRhc2tzLmxlbmd0aCAtIDEpID8gbWFrZUNhbGxiYWNrKGluZGV4ICsgMSk6IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYWtlQ2FsbGJhY2soMCk7XG4gICAgfTtcblxuICAgIGFzeW5jLmFwcGx5ID0gX3Jlc3RQYXJhbShmdW5jdGlvbiAoZm4sIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIF9yZXN0UGFyYW0oZnVuY3Rpb24gKGNhbGxBcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkoXG4gICAgICAgICAgICAgICAgbnVsbCwgYXJncy5jb25jYXQoY2FsbEFyZ3MpXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIF9jb25jYXQoZWFjaGZuLCBhcnIsIGZuLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh4LCBpbmRleCwgY2IpIHtcbiAgICAgICAgICAgIGZuKHgsIGZ1bmN0aW9uIChlcnIsIHkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHkgfHwgW10pO1xuICAgICAgICAgICAgICAgIGNiKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMuY29uY2F0ID0gZG9QYXJhbGxlbChfY29uY2F0KTtcbiAgICBhc3luYy5jb25jYXRTZXJpZXMgPSBkb1NlcmllcyhfY29uY2F0KTtcblxuICAgIGFzeW5jLndoaWxzdCA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuICAgICAgICBpZiAodGVzdCgpKSB7XG4gICAgICAgICAgICB2YXIgbmV4dCA9IF9yZXN0UGFyYW0oZnVuY3Rpb24oZXJyLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGVzdC5hcHBseSh0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvcihuZXh0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBbbnVsbF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0ZXJhdG9yKG5leHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMuZG9XaGlsc3QgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjYWxscyA9IDA7XG4gICAgICAgIHJldHVybiBhc3luYy53aGlsc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKytjYWxscyA8PSAxIHx8IHRlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMudW50aWwgPSBmdW5jdGlvbiAodGVzdCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBhc3luYy53aGlsc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuZG9VbnRpbCA9IGZ1bmN0aW9uIChpdGVyYXRvciwgdGVzdCwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLmRvV2hpbHN0KGl0ZXJhdG9yLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAhdGVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLmR1cmluZyA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuXG4gICAgICAgIHZhciBuZXh0ID0gX3Jlc3RQYXJhbShmdW5jdGlvbihlcnIsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goY2hlY2spO1xuICAgICAgICAgICAgICAgIHRlc3QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjaGVjayA9IGZ1bmN0aW9uKGVyciwgdHJ1dGgpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0cnV0aCkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKG5leHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0ZXN0KGNoZWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuZG9EdXJpbmcgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjYWxscyA9IDA7XG4gICAgICAgIGFzeW5jLmR1cmluZyhmdW5jdGlvbihuZXh0KSB7XG4gICAgICAgICAgICBpZiAoY2FsbHMrKyA8IDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0KG51bGwsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9xdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5LCBwYXlsb2FkKSB7XG4gICAgICAgIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25jdXJyZW5jeSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25jdXJyZW5jeSBtdXN0IG5vdCBiZSB6ZXJvJyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gX2luc2VydChxLCBkYXRhLCBwb3MsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRhc2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghX2lzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gW2RhdGFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGF0YS5sZW5ndGggPT09IDAgJiYgcS5pZGxlKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3luYy5zZXRJbW1lZGlhdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHEuZHJhaW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9hcnJheUVhY2goZGF0YSwgZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YXNrLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2sgfHwgbm9vcFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIHEudGFza3MudW5zaGlmdChpdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBxLnRhc2tzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHEudGFza3MubGVuZ3RoID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBfbmV4dChxLCB0YXNrcykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICBfYXJyYXlFYWNoKHRhc2tzLCBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICAgICAgICAgICAgICBfYXJyYXlFYWNoKHdvcmtlcnNMaXN0LCBmdW5jdGlvbiAod29ya2VyLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmtlciA9PT0gdGFzayAmJiAhcmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlcnNMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHEudGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3b3JrZXJzID0gMDtcbiAgICAgICAgdmFyIHdvcmtlcnNMaXN0ID0gW107XG4gICAgICAgIHZhciBxID0ge1xuICAgICAgICAgICAgdGFza3M6IFtdLFxuICAgICAgICAgICAgY29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LFxuICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZCxcbiAgICAgICAgICAgIHNhdHVyYXRlZDogbm9vcCxcbiAgICAgICAgICAgIGVtcHR5OiBub29wLFxuICAgICAgICAgICAgZHJhaW46IG5vb3AsXG4gICAgICAgICAgICBzdGFydGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgICAgICBwdXNoOiBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBfaW5zZXJ0KHEsIGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2lsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHEuZHJhaW4gPSBub29wO1xuICAgICAgICAgICAgICAgIHEudGFza3MgPSBbXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBfaW5zZXJ0KHEsIGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm9jZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEudGFza3MubGVuZ3RoKXtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFza3MgPSBxLnBheWxvYWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgcS50YXNrcy5zcGxpY2UoMCwgcS5wYXlsb2FkKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnRhc2tzLnNwbGljZSgwLCBxLnRhc2tzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBfbWFwKHRhc2tzLCBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhc2suZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHEudGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXJzTGlzdC5wdXNoKHRhc2tzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNiID0gb25seV9vbmNlKF9uZXh0KHEsIHRhc2tzKSk7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtlcihkYXRhLCBjYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxLnRhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5uaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd29ya2Vyc0xpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2Vyc0xpc3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWRsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEudGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXVzZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN1bWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgICAgIHEucGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VtZUNvdW50ID0gTWF0aC5taW4ocS5jb25jdXJyZW5jeSwgcS50YXNrcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gY2FsbCBxLnByb2Nlc3Mgb25jZSBwZXIgY29uY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdyA9IDE7IHcgPD0gcmVzdW1lQ291bnQ7IHcrKykge1xuICAgICAgICAgICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBxO1xuICAgIH1cblxuICAgIGFzeW5jLnF1ZXVlID0gZnVuY3Rpb24gKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgdmFyIHEgPSBfcXVldWUoZnVuY3Rpb24gKGl0ZW1zLCBjYikge1xuICAgICAgICAgICAgd29ya2VyKGl0ZW1zWzBdLCBjYik7XG4gICAgICAgIH0sIGNvbmN1cnJlbmN5LCAxKTtcblxuICAgICAgICByZXR1cm4gcTtcbiAgICB9O1xuXG4gICAgYXN5bmMucHJpb3JpdHlRdWV1ZSA9IGZ1bmN0aW9uICh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG5cbiAgICAgICAgZnVuY3Rpb24gX2NvbXBhcmVUYXNrcyhhLCBiKXtcbiAgICAgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIF9iaW5hcnlTZWFyY2goc2VxdWVuY2UsIGl0ZW0sIGNvbXBhcmUpIHtcbiAgICAgICAgICAgIHZhciBiZWcgPSAtMSxcbiAgICAgICAgICAgICAgICBlbmQgPSBzZXF1ZW5jZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKGJlZyA8IGVuZCkge1xuICAgICAgICAgICAgICAgIHZhciBtaWQgPSBiZWcgKyAoKGVuZCAtIGJlZyArIDEpID4+PiAxKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZShpdGVtLCBzZXF1ZW5jZVttaWRdKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZyA9IG1pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBiZWc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBfaW5zZXJ0KHEsIGRhdGEsIHByaW9yaXR5LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHEuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIV9pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IFtkYXRhXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgICAgICAgICAgICByZXR1cm4gYXN5bmMuc2V0SW1tZWRpYXRlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfYXJyYXlFYWNoKGRhdGEsIGZ1bmN0aW9uKHRhc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFzayxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBub29wXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHEudGFza3Muc3BsaWNlKF9iaW5hcnlTZWFyY2gocS50YXNrcywgaXRlbSwgX2NvbXBhcmVUYXNrcykgKyAxLCAwLCBpdGVtKTtcblxuICAgICAgICAgICAgICAgIGlmIChxLnRhc2tzLmxlbmd0aCA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICBxLnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgd2l0aCBhIG5vcm1hbCBxdWV1ZVxuICAgICAgICB2YXIgcSA9IGFzeW5jLnF1ZXVlKHdvcmtlciwgY29uY3VycmVuY3kpO1xuXG4gICAgICAgIC8vIE92ZXJyaWRlIHB1c2ggdG8gYWNjZXB0IHNlY29uZCBwYXJhbWV0ZXIgcmVwcmVzZW50aW5nIHByaW9yaXR5XG4gICAgICAgIHEucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBwcmlvcml0eSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQocSwgZGF0YSwgcHJpb3JpdHksIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBSZW1vdmUgdW5zaGlmdCBmdW5jdGlvblxuICAgICAgICBkZWxldGUgcS51bnNoaWZ0O1xuXG4gICAgICAgIHJldHVybiBxO1xuICAgIH07XG5cbiAgICBhc3luYy5jYXJnbyA9IGZ1bmN0aW9uICh3b3JrZXIsIHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIF9xdWV1ZSh3b3JrZXIsIDEsIHBheWxvYWQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfY29uc29sZV9mbihuYW1lKSB7XG4gICAgICAgIHJldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uIChmbiwgYXJncykge1xuICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncy5jb25jYXQoW19yZXN0UGFyYW0oZnVuY3Rpb24gKGVyciwgYXJncykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uc29sZVtuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FycmF5RWFjaChhcmdzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVbbmFtZV0oeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMubG9nID0gX2NvbnNvbGVfZm4oJ2xvZycpO1xuICAgIGFzeW5jLmRpciA9IF9jb25zb2xlX2ZuKCdkaXInKTtcbiAgICAvKmFzeW5jLmluZm8gPSBfY29uc29sZV9mbignaW5mbycpO1xuICAgIGFzeW5jLndhcm4gPSBfY29uc29sZV9mbignd2FybicpO1xuICAgIGFzeW5jLmVycm9yID0gX2NvbnNvbGVfZm4oJ2Vycm9yJyk7Ki9cblxuICAgIGFzeW5jLm1lbW9pemUgPSBmdW5jdGlvbiAoZm4sIGhhc2hlcikge1xuICAgICAgICB2YXIgbWVtbyA9IHt9O1xuICAgICAgICB2YXIgcXVldWVzID0ge307XG4gICAgICAgIHZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICAgICAgICBoYXNoZXIgPSBoYXNoZXIgfHwgaWRlbnRpdHk7XG4gICAgICAgIHZhciBtZW1vaXplZCA9IF9yZXN0UGFyYW0oZnVuY3Rpb24gbWVtb2l6ZWQoYXJncykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBoYXNoZXIuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwobWVtbywga2V5KSkgeyAgIFxuICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIG1lbW9ba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYXMuY2FsbChxdWV1ZXMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZXNba2V5XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXVlc1trZXldID0gW2NhbGxiYWNrXTtcbiAgICAgICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbX3Jlc3RQYXJhbShmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgICAgICAgICBtZW1vW2tleV0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcSA9IHF1ZXVlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcXVldWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHFbaV0uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1lbW9pemVkLm1lbW8gPSBtZW1vO1xuICAgICAgICBtZW1vaXplZC51bm1lbW9pemVkID0gZm47XG4gICAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9O1xuXG4gICAgYXN5bmMudW5tZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKGZuLnVubWVtb2l6ZWQgfHwgZm4pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF90aW1lcyhtYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjb3VudCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBtYXBwZXIoX3JhbmdlKGNvdW50KSwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYy50aW1lcyA9IF90aW1lcyhhc3luYy5tYXApO1xuICAgIGFzeW5jLnRpbWVzU2VyaWVzID0gX3RpbWVzKGFzeW5jLm1hcFNlcmllcyk7XG4gICAgYXN5bmMudGltZXNMaW1pdCA9IGZ1bmN0aW9uIChjb3VudCwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gYXN5bmMubWFwTGltaXQoX3JhbmdlKGNvdW50KSwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLnNlcSA9IGZ1bmN0aW9uICgvKiBmdW5jdGlvbnMuLi4gKi8pIHtcbiAgICAgICAgdmFyIGZucyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZXN0UGFyYW0oZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYXJncy5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBub29wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3luYy5yZWR1Y2UoZm5zLCBhcmdzLCBmdW5jdGlvbiAobmV3YXJncywgZm4sIGNiKSB7XG4gICAgICAgICAgICAgICAgZm4uYXBwbHkodGhhdCwgbmV3YXJncy5jb25jYXQoW19yZXN0UGFyYW0oZnVuY3Rpb24gKGVyciwgbmV4dGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY2IoZXJyLCBuZXh0YXJncyk7XG4gICAgICAgICAgICAgICAgfSldKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHRoYXQsIFtlcnJdLmNvbmNhdChyZXN1bHRzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLmNvbXBvc2UgPSBmdW5jdGlvbiAoLyogZnVuY3Rpb25zLi4uICovKSB7XG4gICAgICAgIHJldHVybiBhc3luYy5zZXEuYXBwbHkobnVsbCwgQXJyYXkucHJvdG90eXBlLnJldmVyc2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBfYXBwbHlFYWNoKGVhY2hmbikge1xuICAgICAgICByZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbihmbnMsIGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBnbyA9IF9yZXN0UGFyYW0oZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlYWNoZm4oZm5zLCBmdW5jdGlvbiAoZm4sIF8sIGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoYXQsIGFyZ3MuY29uY2F0KFtjYl0pKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdvLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYy5hcHBseUVhY2ggPSBfYXBwbHlFYWNoKGFzeW5jLmVhY2hPZik7XG4gICAgYXN5bmMuYXBwbHlFYWNoU2VyaWVzID0gX2FwcGx5RWFjaChhc3luYy5lYWNoT2ZTZXJpZXMpO1xuXG5cbiAgICBhc3luYy5mb3JldmVyID0gZnVuY3Rpb24gKGZuLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZG9uZSA9IG9ubHlfb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgICAgICAgdmFyIHRhc2sgPSBlbnN1cmVBc3luYyhmbik7XG4gICAgICAgIGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhc2sobmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBlbnN1cmVBc3luYyhmbikge1xuICAgICAgICByZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIGFyZ3MucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICBpZiAoc3luYykge1xuICAgICAgICAgICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgaW5uZXJBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgaW5uZXJBcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgc3luYyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYy5lbnN1cmVBc3luYyA9IGVuc3VyZUFzeW5jO1xuXG4gICAgYXN5bmMuY29uc3RhbnQgPSBfcmVzdFBhcmFtKGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICB2YXIgYXJncyA9IFtudWxsXS5jb25jYXQodmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgYXN5bmMud3JhcFN5bmMgPVxuICAgIGFzeW5jLmFzeW5jaWZ5ID0gZnVuY3Rpb24gYXN5bmNpZnkoZnVuYykge1xuICAgICAgICByZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgcmVzdWx0IGlzIFByb21pc2Ugb2JqZWN0XG4gICAgICAgICAgICBpZiAoX2lzT2JqZWN0KHJlc3VsdCkgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLm1lc3NhZ2UgPyBlcnIgOiBuZXcgRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBOb2RlLmpzXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gYXN5bmM7XG4gICAgfVxuICAgIC8vIEFNRCAvIFJlcXVpcmVKU1xuICAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3luYztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGluY2x1ZGVkIGRpcmVjdGx5IHZpYSA8c2NyaXB0PiB0YWdcbiAgICBlbHNlIHtcbiAgICAgICAgcm9vdC5hc3luYyA9IGFzeW5jO1xuICAgIH1cblxufSgpKTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTsiLCJpbXBvcnQgeyBJRG9jdW1lbnRVcmxEaWFsb2dTZXJ2aWNlIH0gZnJvbSAnLi4vZG9jdW1lbnRfdXJsX2RpYWxvZy9JRG9jdW1lbnRVcmxEaWFsb2dTZXJ2aWNlJztcbmRlY2xhcmUgbGV0IHVuZXNjYXBlOiBhbnk7XG5cbmNvbnN0IENvbmZpZ1RyYW5zbGF0aW9ucyA9IChwaXBUcmFuc2xhdGVQcm92aWRlcjogcGlwLnNlcnZpY2VzLklUcmFuc2xhdGVQcm92aWRlcikgPT4ge1xuICAgIHBpcFRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICAgICdGSUxFX0RPQ1VNRU5UUyc6ICdVcGxvYWQgZG9jdW1lbnQnLFxuICAgICAgICAnV0VCX0xJTksnOiAnVXNlIHdlYiBsaW5rJ1xuICAgIH0pO1xuICAgIHBpcFRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygncnUnLCB7XG4gICAgICAgICdGSUxFX0RPQ1VNRU5UUyc6ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0LTQvtC60YPQvNC10L3RgicsXG4gICAgICAgICdXRUJfTElOSyc6ICfQktGB0YLQsNCy0LjRgtGMINCy0LXQsSDRgdGB0YvQu9C60LAnXG4gICAgfSk7XG59XG5cbntcbiAgICBpbnRlcmZhY2UgSUFkZERvY3VtZW50U2NvcGUgZXh0ZW5kcyBhbmd1bGFyLklTY29wZSB7XG4gICAgICAgICRkb2N1bWVudDogYW55O1xuICAgICAgICBvbkNoYW5nZTogYW55O1xuICAgICAgICBtdWx0aTogYW55O1xuICAgICAgICBuZ0Rpc2FibGVkOiBhbnk7XG4gICAgfVxuXG4gICAgY2xhc3MgQWRkRG9jdW1lbnRzT25DaGFuZ2VQYXJhbXMge1xuICAgICAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XG4gICAgICAgIHB1YmxpYyBmaWxlOiBhbnk7XG4gICAgfVxuXG4gICAgY2xhc3MgQWRkRG9jdW1lbnRDb250cm9sbGVyIHtcbiAgICAgICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRzY29wZTogSUFkZERvY3VtZW50U2NvcGUsXG4gICAgICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICBwcml2YXRlICRtZE1lbnUsXG4gICAgICAgICAgICBwcml2YXRlICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlIHBpcERvY3VtZW50VXJsRGlhbG9nOiBJRG9jdW1lbnRVcmxEaWFsb2dTZXJ2aWNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgXCJuZ0luamVjdFwiO1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb3Blbk1lbnUoJG1kT3Blbk1lbnUpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZS5uZ0Rpc2FibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkbWRPcGVuTWVudSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB0b0Jvb2xlYW4odmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSAnMScgfHwgdmFsdWUgPT0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzTXVsdGkoKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUubXVsdGkgIT09IHVuZGVmaW5lZCAmJiB0aGlzLiRzY29wZS5tdWx0aSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy4kc2NvcGUubXVsdGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQm9vbGVhbih0aGlzLiRzY29wZS5tdWx0aSgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b0Jvb2xlYW4odGhpcy4kc2NvcGUubXVsdGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaGlkZU1lbnUoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLiRtZE1lbnUuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFkZERvY3VtZW50cyhkb2N1bWVudHM6IGFueSk6IHZvaWQge1xuXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnRzID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRvY3VtZW50cykpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudHMuZm9yRWFjaCgoaW1nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZS5vbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtczogQWRkRG9jdW1lbnRzT25DaGFuZ2VQYXJhbXMgPSB7IHVybDogaW1nLnVybCwgZmlsZTogaW1nLmZpbGUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLm9uQ2hhbmdlKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbXM6IEFkZERvY3VtZW50c09uQ2hhbmdlUGFyYW1zID0geyB1cmw6IGRvY3VtZW50cy51cmwsIGZpbGU6IGRvY3VtZW50cy5maWxlIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLm9uQ2hhbmdlKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuJGRvY3VtZW50ID09PSB1bmRlZmluZWQgfHwgIUFycmF5LmlzQXJyYXkodGhpcy4kc2NvcGUuJGRvY3VtZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZG9jdW1lbnRzKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50cy5mb3JFYWNoKChpbWcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGRvY3VtZW50LnB1c2goaW1nLnVybCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRkb2N1bWVudC5wdXNoKGRvY3VtZW50cy51cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyB1c2VyIGFjdGlvbnNcbiAgICAgICAgcHVibGljIG9uRmlsZUNoYW5nZSgkZmlsZXM6IGFueSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKCRmaWxlcyA9PSBudWxsIHx8ICRmaWxlcy5sZW5ndGggPT0gMCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgJGZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGREb2N1bWVudHMoeyB1cmw6IG51bGwsIGZpbGU6IGZpbGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25XZWJMaW5rQ2xpY2soKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnBpcERvY3VtZW50VXJsRGlhbG9nLnNob3coKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRG9jdW1lbnRzKHsgdXJsOiByZXN1bHQsIGZpbGU6IG51bGwgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY29uc3QgQWRkRG9jdW1lbnQgPSBmdW5jdGlvbiAoKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0FDJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgJGRvY3VtZW50OiAnPXBpcERvY3VtZW50cycsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U6ICcmcGlwQ2hhbmdlZCcsXG4gICAgICAgICAgICAgICAgbXVsdGk6ICcmcGlwTXVsdGknLFxuICAgICAgICAgICAgICAgIG5nRGlzYWJsZWQ6ICcmJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FkZF9kb2N1bWVudHMvQWRkRG9jdW1lbnQuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBBZGREb2N1bWVudENvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3BpcEFkZERvY3VtZW50JywgWydEb2N1bWVudFVybERpYWxvZyddKVxuICAgICAgICAuY29uZmlnKENvbmZpZ1RyYW5zbGF0aW9ucylcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwQWRkRG9jdW1lbnQnLCBBZGREb2N1bWVudCk7XG59XG4iLCJleHBvcnQgY2xhc3MgQXR0YWNobWVudCB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGlkPzogc3RyaW5nLCB1cmk/OiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVyaSA9IHVyaTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgcHVibGljIGlkPzogc3RyaW5nO1xuICAgIHB1YmxpYyB1cmk/OiBzdHJpbmc7XG4gICAgcHVibGljIG5hbWU/OiBzdHJpbmc7XG59ICIsImV4cG9ydCBjbGFzcyBCbG9iSW5mbyB7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgZ3JvdXA6IHN0cmluZywgbmFtZTogc3RyaW5nLCBzaXplPzogbnVtYmVyLFxuICAgICAgICBjb250ZW50X3R5cGU/OiBzdHJpbmcsIGNyZWF0ZV90aW1lPzogRGF0ZSwgZXhwaXJlX3RpbWU/OiBEYXRlLCBjb21wbGV0ZWQ/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ncm91cCA9IGdyb3VwO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmNvbnRlbnRfdHlwZSA9IGNvbnRlbnRfdHlwZTtcbiAgICAgICAgdGhpcy5jcmVhdGVfdGltZSA9IGNyZWF0ZV90aW1lO1xuICAgICAgICB0aGlzLmV4cGlyZV90aW1lID0gZXhwaXJlX3RpbWU7XG4gICAgICAgIHRoaXMuY29tcGxldGVkID0gY29tcGxldGVkO1xuICAgIH1cblxuICAgIC8qIElkZW50aWZpY2F0aW9uICovXG4gICAgcHVibGljIGlkOiBzdHJpbmc7XG4gICAgcHVibGljIGdyb3VwOiBzdHJpbmc7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcblxuICAgIC8qIENvbnRlbnQgKi9cbiAgICBwdWJsaWMgc2l6ZTogbnVtYmVyO1xuICAgIHB1YmxpYyBjb250ZW50X3R5cGU6IHN0cmluZztcbiAgICBwdWJsaWMgY3JlYXRlX3RpbWU6IERhdGU7XG4gICAgcHVibGljIGV4cGlyZV90aW1lOiBEYXRlO1xuICAgIHB1YmxpYyBjb21wbGV0ZWQ6IGJvb2xlYW47XG59IiwiZXhwb3J0IGNsYXNzIERhdGFQYWdlPFQ+IHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogVFtdID0gbnVsbCwgdG90YWw6IG51bWJlciA9IG51bGwpIHtcblx0XHR0aGlzLnRvdGFsID0gdG90YWw7XG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcblx0fVxuXG4gICAgcHVibGljIHRvdGFsOiBudW1iZXI7XG4gICAgcHVibGljIGRhdGE6IFRbXTtcbn0iLCJpbXBvcnQgeyBJRG9jdW1lbnREYXRhU2VydmljZSwgSURvY3VtZW50RGF0YVByb3ZpZGVyLCBEb2N1bWVudENvbmZpZyB9IGZyb20gJy4vSURvY3VtZW50RGF0YVNlcnZpY2UnO1xuaW1wb3J0IHsgQmxvYkluZm8gfSBmcm9tICcuL0Jsb2JJbmZvJztcbmltcG9ydCB7IERhdGFQYWdlIH0gZnJvbSAnLi9EYXRhUGFnZSc7XG5cbmNsYXNzIERvY3VtZW50RGF0YSBpbXBsZW1lbnRzIElEb2N1bWVudERhdGFTZXJ2aWNlIHtcbiAgICBwcml2YXRlIFJFU09VUkNFOiBzdHJpbmcgPSAnZG9jdW1lbnRzJztcbiAgICBwcml2YXRlIFJFU09VUkNFX0lORk86IHN0cmluZyA9ICdkb2N1bWVudHNJbmZvJztcblxuICAgIHByaXZhdGUgUEFHRV9TSVpFOiBudW1iZXIgPSAxMDA7XG4gICAgcHJpdmF0ZSBQQUdFX1NUQVJUOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgUEFHRV9UT1RBTDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfY29uZmlnOiBEb2N1bWVudENvbmZpZyxcbiAgICAgICAgcHJpdmF0ZSBwaXBSZXN0OiBwaXAucmVzdC5JUmVzdFNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcGlwRm9ybWF0OiBwaXAuc2VydmljZXMuSUZvcm1hdFxuICAgICkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICB9XG5cblxuICAgIHB1YmxpYyBnZXQgRG9jdW1lbnRSb3V0ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLkRvY3VtZW50Um91dGU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERvY3VtZW50VXJsKGlkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5waXBSZXN0LnNlcnZlclVybCArIHRoaXMuX2NvbmZpZy5Eb2N1bWVudFJvdXRlICsgJy8nICsgaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHBvc3REb2N1bWVudFVybCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5waXBSZXN0LnNlcnZlclVybCArIHRoaXMuX2NvbmZpZy5Eb2N1bWVudFJvdXRlO1xuICAgIH1cblxuXG4gICAgcHVibGljIHJlYWREb2N1bWVudHMocGFyYW1zOiBhbnksIHN1Y2Nlc3NDYWxsYmFjaz86IChkYXRhOiBEYXRhUGFnZTxCbG9iSW5mbz4pID0+IHZvaWQsIGVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgICAgICAgaWYgKHBhcmFtcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHBhcmFtcy5maWxlciA9IHRoaXMucGlwRm9ybWF0LmZpbHRlclRvU3RyaW5nKHBhcmFtcy5maWxlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5waXBSZXN0LmdldFJlc291cmNlKHRoaXMuUkVTT1VSQ0UpLnBhZ2UocGFyYW1zLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWFkRG9jdW1lbnRJbmZvKHBhcmFtczogYW55LCBzdWNjZXNzQ2FsbGJhY2s/OiAoZGF0YTogQmxvYkluZm8pID0+IHZvaWQsIGVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCk6IGFuZ3VsYXIuSVByb21pc2U8YW55PiB7XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgICAgICAgaWYgKHBhcmFtcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHBhcmFtcy5maWxlciA9IHRoaXMucGlwRm9ybWF0LmZpbHRlclRvU3RyaW5nKHBhcmFtcy5maWxlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5waXBSZXN0LmdldFJlc291cmNlKHRoaXMuUkVTT1VSQ0VfSU5GTykuZ2V0KHBhcmFtcywgc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZERvY3VtZW50KGlkOiBzdHJpbmcsIHN1Y2Nlc3NDYWxsYmFjaz86IChkYXRhOiBCbG9iSW5mbykgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86IChlcnJvcjogYW55KSA9PiB2b2lkKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5waXBSZXN0LmdldFJlc291cmNlKHRoaXMuUkVTT1VSQ0UpLmdldCh7XG4gICAgICAgICAgICBibG9iX2lkOiBpZFxuICAgICAgICB9LCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWxldGVEb2N1bWVudChpZDogc3RyaW5nLCBzdWNjZXNzQ2FsbGJhY2s/OiAoKSA9PiB2b2lkLCBlcnJvckNhbGxiYWNrPzogKGVycm9yOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5waXBSZXN0LmdldFJlc291cmNlKHRoaXMuUkVTT1VSQ0UpLnJlbW92ZShcbiAgICAgICAgICAgIHsgYmxvYl9pZDogaWQgfSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbmNsYXNzIERvY3VtZW50RGF0YVByb3ZpZGVyIGltcGxlbWVudHMgSURvY3VtZW50RGF0YVByb3ZpZGVyIHtcbiAgICBwcml2YXRlIF9zZXJ2aWNlOiBJRG9jdW1lbnREYXRhU2VydmljZTtcbiAgICBwcml2YXRlIF9jb25maWc6IERvY3VtZW50Q29uZmlnO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcGlwUmVzdFByb3ZpZGVyOiBwaXAucmVzdC5JUmVzdFByb3ZpZGVyXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IG5ldyBEb2N1bWVudENvbmZpZygpO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZy5Eb2N1bWVudFJvdXRlID0gJy9hcGkvMS4wL2Jsb2JzJztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IERvY3VtZW50Um91dGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5Eb2N1bWVudFJvdXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgRG9jdW1lbnRSb3V0ZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5Eb2N1bWVudFJvdXRlID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5waXBSZXN0UHJvdmlkZXIucmVnaXN0ZXJPcGVyYXRpb24oJ2RvY3VtZW50cycsIHRoaXMuX2NvbmZpZy5Eb2N1bWVudFJvdXRlICsgJy86ZG9jdW1lbnRfaWQnKTtcbiAgICAgICAgdGhpcy5waXBSZXN0UHJvdmlkZXIucmVnaXN0ZXJSZXNvdXJjZSgnZG9jdW1lbnRJbmZvJywgdGhpcy5fY29uZmlnLkRvY3VtZW50Um91dGUgKyAnLzpkb2N1bWVudF9pZC9pbmZvJyk7XG4gICAgfVxuXG4gICAgcHVibGljICRnZXQoXG4gICAgICAgIHBpcFJlc3Q6IHBpcC5yZXN0LklSZXN0U2VydmljZSxcbiAgICAgICAgcGlwRm9ybWF0OiBwaXAuc2VydmljZXMuSUZvcm1hdFxuICAgICkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NlcnZpY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc2VydmljZSA9IG5ldyBEb2N1bWVudERhdGEodGhpcy5fY29uZmlnLCBwaXBSZXN0LCBwaXBGb3JtYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XG4gICAgfVxuXG59XG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcERvY3VtZW50RGF0YScsIFsncGlwUmVzdCcsICdwaXBTZXJ2aWNlcyddKVxuICAgIC5wcm92aWRlcigncGlwRG9jdW1lbnREYXRhJywgRG9jdW1lbnREYXRhUHJvdmlkZXIpO1xuXG5cbiIsImltcG9ydCB7IEJsb2JJbmZvIH0gZnJvbSAnLi9CbG9iSW5mbyc7XG5pbXBvcnQgeyBEYXRhUGFnZSB9IGZyb20gJy4vRGF0YVBhZ2UnO1xuXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRDb25maWcge1xuICAgIHB1YmxpYyBEb2N1bWVudFJvdXRlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURvY3VtZW50RGF0YVNlcnZpY2Uge1xuICAgIERvY3VtZW50Um91dGU6IHN0cmluZztcblxuICAgIGdldERvY3VtZW50VXJsKGlkOiBzdHJpbmcpOiBzdHJpbmc7XG4gICAgcG9zdERvY3VtZW50VXJsKCk6IHN0cmluZ1xuXG4gICAgcmVhZERvY3VtZW50cyhwYXJhbXM6IGFueSwgc3VjY2Vzc0NhbGxiYWNrPzogKGRhdGE6IERhdGFQYWdlPEJsb2JJbmZvPikgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86IChlcnJvcjogYW55KSA9PiB2b2lkKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+XG4gICAgcmVhZERvY3VtZW50SW5mbyhwYXJhbXM6IGFueSwgc3VjY2Vzc0NhbGxiYWNrPzogKGRhdGE6IEJsb2JJbmZvKSA9PiB2b2lkLCBlcnJvckNhbGxiYWNrPzogKGVycm9yOiBhbnkpID0+IHZvaWQpOiBhbmd1bGFyLklQcm9taXNlPGFueT47XG4gICAgcmVhZERvY3VtZW50KGlkOiBzdHJpbmcsIHN1Y2Nlc3NDYWxsYmFjaz86IChkYXRhOiBCbG9iSW5mbykgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86IChlcnJvcjogYW55KSA9PiB2b2lkKTogYW5ndWxhci5JUHJvbWlzZTxhbnk+O1xuICAgIGRlbGV0ZURvY3VtZW50KGlkOiBzdHJpbmcsIHN1Y2Nlc3NDYWxsYmFjaz86ICgpID0+IHZvaWQsIGVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCk6IHZvaWQ7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBJRG9jdW1lbnREYXRhUHJvdmlkZXIgZXh0ZW5kcyBuZy5JU2VydmljZVByb3ZpZGVyIHtcbiAgICAvLyBiYXNlcyBkb2N1bWVudCByb3V0ZSBzdHJpbmc/IHNhY2ggYXM6ICcvYXBpLzEuMC9ibG9icydcbiAgICBEb2N1bWVudFJvdXRlOiBzdHJpbmc7XG59XG4iLCJpbXBvcnQgJy4vQXR0YWNobWVudCc7XG5pbXBvcnQgJy4vQmxvYkluZm8nO1xuaW1wb3J0ICcuL0RhdGFQYWdlJztcbmltcG9ydCAnLi9Eb2N1bWVudERhdGFTZXJ2aWNlJztcbmltcG9ydCAnLi9JRG9jdW1lbnREYXRhU2VydmljZSc7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBEb2N1bWVudHMuRGF0YScsIFtcbiAgICAgICAgJ3BpcERvY3VtZW50RGF0YSdcbiAgICBdKTtcblxuZXhwb3J0ICogZnJvbSAnLi9BdHRhY2htZW50JztcbmV4cG9ydCAqIGZyb20gJy4vQmxvYkluZm8nO1xuZXhwb3J0ICogZnJvbSAnLi9EYXRhUGFnZSc7XG5leHBvcnQgKiBmcm9tICcuL0lEb2N1bWVudERhdGFTZXJ2aWNlJztcbiIsImltcG9ydCB7IERlZmF1bHREb2N1bWVudEljb24gfSBmcm9tICcuLi9kb2N1bWVudF9saXN0X2VkaXQvRG9jdW1lbnRMaXN0RWRpdCc7XG5pbXBvcnQgeyBBdHRhY2htZW50IH0gZnJvbSAnLi4vZGF0YS9BdHRhY2htZW50JztcbmltcG9ydCB7IElEb2N1bWVudERhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vZGF0YS9JRG9jdW1lbnREYXRhU2VydmljZSc7XG5cbmNvbnN0IENvbmZpZ1RyYW5zbGF0aW9ucyA9IChwaXBUcmFuc2xhdGU6IHBpcC5zZXJ2aWNlcy5JVHJhbnNsYXRlU2VydmljZSkgPT4ge1xuICAgIGlmIChwaXBUcmFuc2xhdGUpIHtcbiAgICAgICAgKHBpcFRyYW5zbGF0ZSkuc2V0VHJhbnNsYXRpb25zKCdlbicsIHtcbiAgICAgICAgICAgIERPQ1VNRU5UU19BVFRBQ0hFRDogJ2RvY3VtZW50KHMpIGF0dGFjaGVkJyxcbiAgICAgICAgICAgIEVSUk9SX0RPQ1VNRU5UU19MT0FERUQ6ICdFcnJvcjogPCU9IGVycm9yX251bWJlciAlPiBkb2N1bWVudChzKSBhcmUgbm90IGxvYWRlZCdcbiAgICAgICAgfSk7XG4gICAgICAgIChwaXBUcmFuc2xhdGUpLnNldFRyYW5zbGF0aW9ucygncnUnLCB7XG4gICAgICAgICAgICBET0NVTUVOVFNfQVRUQUNIRUQ6ICfQtNC+0LrRg9C80LXQvdGC0L7QsiDQtNC+0LHQsNCy0LvQtdC90L4nLFxuICAgICAgICAgICAgRVJST1JfRE9DVU1FTlRTX0xPQURFRDogJ9Ce0YjQuNCx0LrQsDogPCU9IGVycm9yX251bWJlciAlPiDQtNC+0LrRg9C80LXQvdGCKNC+0LIpINC90LUg0LfQsNCz0YDRg9C20LXQvdC+J1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbntcblxuICAgIGludGVyZmFjZSBEb2N1bWVudExpc3RCaW5kaW5ncyB7XG4gICAgICAgIFtrZXk6IHN0cmluZ106IGFueTtcblxuICAgICAgICBuZ0Rpc2FibGVkOiBhbnk7XG4gICAgICAgIGRvY3VtZW50czogYW55O1xuICAgICAgICBjb2xsYXBzYWJsZTogYW55O1xuICAgICAgICBwaXBEb2N1bWVudEljb246IGFueTtcbiAgICAgICAgcmViaW5kOiBhbnk7XG4gICAgfVxuXG4gICAgY29uc3QgRG9jdW1lbnRMaXN0QmluZGluZ3M6IERvY3VtZW50TGlzdEJpbmRpbmdzID0ge1xuICAgICAgICBuZ0Rpc2FibGVkOiAnJj8nLFxuICAgICAgICBkb2N1bWVudHM6ICc8cGlwRG9jdW1lbnRzJyxcbiAgICAgICAgY29sbGFwc2FibGU6ICc8P3BpcENvbGxhcHNlJyxcbiAgICAgICAgcGlwRG9jdW1lbnRJY29uOiAnPD9waXBEb2N1bWVudEljb24nLFxuICAgICAgICByZWJpbmQ6ICc8P3BpcFJlYmluZCdcbiAgICB9XG5cbiAgICBjbGFzcyBEb2N1bWVudExpc3RDaGFuZ2VzIGltcGxlbWVudHMgbmcuSU9uQ2hhbmdlc09iamVjdCwgRG9jdW1lbnRMaXN0QmluZGluZ3Mge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBuZy5JQ2hhbmdlc09iamVjdDxhbnk+O1xuXG4gICAgICAgIG5nRGlzYWJsZWQ6IG5nLklDaGFuZ2VzT2JqZWN0PCgpID0+IG5nLklQcm9taXNlPHZvaWQ+PjtcbiAgICAgICAgZG9jdW1lbnRzOiBuZy5JQ2hhbmdlc09iamVjdDxBdHRhY2htZW50W10+O1xuICAgICAgICBjb2xsYXBzYWJsZTogbmcuSUNoYW5nZXNPYmplY3Q8Ym9vbGVhbj47XG4gICAgICAgIHBpcERvY3VtZW50SWNvbjogbmcuSUNoYW5nZXNPYmplY3Q8Ym9vbGVhbj47XG4gICAgICAgIHJlYmluZDogbmcuSUNoYW5nZXNPYmplY3Q8Ym9vbGVhbj47XG4gICAgfVxuXG4gICAgY2xhc3MgRG9jdW1lbnRMaXN0Q29udHJvbGxlciB7XG4gICAgICAgIHByaXZhdGUgZG9jdW1lbnRzQ29udGFpbmVyOiBKUXVlcnk7XG4gICAgICAgIHByaXZhdGUgdXA6IEpRdWVyeTtcbiAgICAgICAgcHJpdmF0ZSBkb3duOiBKUXVlcnk7XG5cbiAgICAgICAgcHVibGljIG5nRGlzYWJsZWQ6ICgpID0+IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBjb2xsYXBzYWJsZTogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIHBpcERvY3VtZW50SWNvbjogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIGRvY3VtZW50czogQXR0YWNobWVudFtdO1xuICAgICAgICBwdWJsaWMgcmViaW5kOiBib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyBzaG93RG9jdW1lbnRzOiBib29sZWFuO1xuICAgICAgICBwdWJsaWMgZG9jdW1lbnRMaXN0OiBBdHRhY2htZW50W107XG4gICAgICAgIHB1YmxpYyBkb2N1bWVudExpc3RJY29uOiBzdHJpbmcgPSBEZWZhdWx0RG9jdW1lbnRJY29uO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgcHJpdmF0ZSAkYXR0cnM6IG5nLklBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgcHJpdmF0ZSBwaXBUcmFuc2xhdGU6IHBpcC5zZXJ2aWNlcy5JVHJhbnNsYXRlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHBhcnNlOiBuZy5JUGFyc2VTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IGFuZ3VsYXIuSVNjb3BlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSBwaXBEb2N1bWVudERhdGE6IElEb2N1bWVudERhdGFTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSBwaXBSZXN0OiBwaXAucmVzdC5JUmVzdFNlcnZpY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgICAgIC8vIEFkZCBjbGFzc1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygncGlwLWRvY3VtZW50LWxpc3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyAkcG9zdExpbmsoKSB7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50c0NvbnRhaW5lciA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oJy5waXAtZG9jdW1lbnRzLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgdGhpcy51cCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmljb24tdXAnKTtcbiAgICAgICAgICAgIHRoaXMuZG93biA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmljb24tZG93bicpO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudHMgPSB0aGlzLmRvY3VtZW50cyB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0RvY3VtZW50cyA9IHRoaXMuY29sbGFwc2FibGU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5jb2xsYXBzYWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXAuaGlkZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRzQ29udGFpbmVyLmhpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb3duLmhpZGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMubmdEaXNhYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kb3duLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkRvd25sb2FkKGl0ZW0pOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG4gICAgICAgICAgICBsZXQgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgICAgICAgICAgYS5ocmVmID0gdGhpcy5waXBEb2N1bWVudERhdGEuZ2V0RG9jdW1lbnRVcmwoaXRlbS5pZCk7O1xuICAgICAgICAgICAgYS5kYXRhc2V0Wydkb3dubG9hZHVybCddID0gWyd1bmRlZmluZWQnLCBhLmRvd25sb2FkLCBhLmhyZWZdLmpvaW4oJzonKTtcbiAgICAgICAgICAgIGUuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSwgd2luZG93LCAwLCAwLCAwLCAwLCAwLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcbiAgICAgICAgICAgIGEuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyAkb25DaGFuZ2VzKGNoYW5nZXM6IERvY3VtZW50TGlzdENoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvQm9vbGVhbih0aGlzLnJlYmluZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlcy5kb2N1bWVudHMgJiYgY2hhbmdlcy5kb2N1bWVudHMuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpZmZlcmVudERvY3VtZW50TGlzdChjaGFuZ2VzLmRvY3VtZW50cy5jdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50cyA9IGNoYW5nZXMuZG9jdW1lbnRzLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBkaWZmZXJlbnREb2N1bWVudExpc3QobmV3TGlzdDogQXR0YWNobWVudFtdKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBsZXQgaTogbnVtYmVyLCBvYmo6IEF0dGFjaG1lbnQ7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5kb2N1bWVudHMgfHwgbmV3TGlzdCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRzLmxlbmd0aCAhPT0gbmV3TGlzdC5sZW5ndGgpIHsgcmV0dXJuIHRydWU7IH1cblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5ld0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmogPSBfLmZpbmQodGhpcy5kb2N1bWVudHMsIHsgaWQ6IG5ld0xpc3RbaV0uaWQgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uVGl0bGVDbGljayhldmVudDogbmcuSUFuZ3VsYXJFdmVudCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKGV2ZW50KSB7IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRhdHRycy5kaXNhYmxlZCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgdGhpcy5zaG93RG9jdW1lbnRzID0gIXRoaXMuc2hvd0RvY3VtZW50cztcbiAgICAgICAgICAgIHRoaXMudXBbdGhpcy5zaG93RG9jdW1lbnRzID8gJ3Nob3cnIDogJ2hpZGUnXSgpO1xuICAgICAgICAgICAgdGhpcy5kb3duWyF0aGlzLnNob3dEb2N1bWVudHMgPyAnc2hvdycgOiAnaGlkZSddKCk7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50c0NvbnRhaW5lclt0aGlzLnNob3dEb2N1bWVudHMgPyAnc2hvdycgOiAnaGlkZSddKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHRvQm9vbGVhbih2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSAnMScgfHwgdmFsdWUgPT0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25zdCBkb2N1bWVudExpc3Q6IG5nLklDb21wb25lbnRPcHRpb25zID0ge1xuICAgICAgICBiaW5kaW5nczogRG9jdW1lbnRMaXN0QmluZGluZ3MsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnZG9jdW1lbnRfbGlzdC9Eb2N1bWVudExpc3QuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6IERvY3VtZW50TGlzdENvbnRyb2xsZXIsXG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwicGlwRG9jdW1lbnRMaXN0XCIsIFsncGlwRm9jdXNlZCcsICdwaXBEb2N1bWVudHMuVGVtcGxhdGVzJ10pXG4gICAgICAgIC5ydW4oQ29uZmlnVHJhbnNsYXRpb25zKVxuICAgICAgICAuY29tcG9uZW50KCdwaXBEb2N1bWVudExpc3QnLCBkb2N1bWVudExpc3QpO1xufSIsImV4cG9ydCBsZXQgRGVmYXVsdERvY3VtZW50SWNvbjogc3RyaW5nID0gJ2RvY3VtZW50JztcbmltcG9ydCB7IEF0dGFjaG1lbnQsIEJsb2JJbmZvIH0gZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgeyBJRG9jdW1lbnREYXRhU2VydmljZSB9IGZyb20gJy4uL2RhdGEvSURvY3VtZW50RGF0YVNlcnZpY2UnO1xuXG5sZXQgYXN5bmMgPSByZXF1aXJlKCdhc3luYycpO1xuXG5jb25zdCBDb25maWdUcmFuc2xhdGlvbnMgPSAocGlwVHJhbnNsYXRlOiBwaXAuc2VydmljZXMuSVRyYW5zbGF0ZVNlcnZpY2UpID0+IHtcbiAgICBpZiAocGlwVHJhbnNsYXRlKSB7XG4gICAgICAgIChwaXBUcmFuc2xhdGUpLnNldFRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICAgICAgICBET0NVTUVOVF9MSVNUX0VESVRfVEVYVDogJ0NsaWNrIGhlcmUgdG8gYWRkIGEgZG9jdW1lbnQnLFxuICAgICAgICAgICAgRVJST1JfVFJBTlNBQ1RJT05fSU5fUFJPR1JFU1M6ICdUcmFuc2FjdGlvbiBpcyBpbiBwcm9ncmVzcy4gUGxlYXNlLCB3YWl0IHVudGlsIGl0XFwncyBmaW5pc2hlZCBvciBhYm9ydCdcbiAgICAgICAgfSk7XG4gICAgICAgIChwaXBUcmFuc2xhdGUpLnNldFRyYW5zbGF0aW9ucygncnUnLCB7XG4gICAgICAgICAgICBET0NVTUVOVF9MSVNUX0VESVRfVEVYVDogJ9Cd0LDQttC80LjRgtC1INGB0Y7QtNCwLCDRh9GC0L7QsdGLINC00L7QsdCw0LLQuNGC0Ywg0LTQvtC60YPQvNC10L3RgicsXG4gICAgICAgICAgICBFUlJPUl9UUkFOU0FDVElPTl9JTl9QUk9HUkVTUzogJ9Ci0YDQsNC90LfQsNC60YbQuNGPINC10YnQtSDQvdC1INC30LDQstC10YDRiNC10L3QsC4g0J/QvtC00L7QttC00LjRgtC1INC+0LrQvtC90YfQsNC90LjRjyDQuNC70Lgg0L/RgNC10YDQstC40YLQtSDQtdGRJ1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEb2N1bWVudExpc3RFZGl0Q29udHJvbCB7XG4gICAgdXBsb2FkaW5nOiBudW1iZXIgPSAwO1xuICAgIGl0ZW1zOiBEb2N1bWVudExpc3RFZGl0SXRlbVtdO1xuICAgIHJlc2V0OiAoKSA9PiB2b2lkO1xuICAgIHNhdmU6IChzdWNjZXNzQ2FsbGJhY2s/OiAoZGF0YTogQXR0YWNobWVudFtdKSA9PiB2b2lkLCBlcnJvckNhbGxiYWNrPzogKGVycm9yOiBhbnkpID0+IHZvaWQpID0+IHZvaWQ7XG4gICAgYWJvcnQ6ICgpID0+IHZvaWQ7XG4gICAgZXJyb3I/OiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBEb2N1bWVudFVwbG9hZEVycm9ycyB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB1cmk6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZXJyb3I6IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIERvY3VtZW50TGlzdEVkaXRJdGVtIHtcbiAgICBwaW46IG51bWJlcjtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB1cmk/OiBzdHJpbmc7XG4gICAgdXBsb2FkaW5nOiBib29sZWFuO1xuICAgIHVwbG9hZGVkOiBib29sZWFuO1xuICAgIHVwbG9hZD86IGFueTtcbiAgICBwcm9ncmVzczogbnVtYmVyO1xuICAgIGZpbGU6IGFueTtcbiAgICBzdGF0ZTogc3RyaW5nO1xuICAgIGVycm9yOiBhbnlcbn1cblxue1xuICAgIGludGVyZmFjZSBJRG9jdW1lbnRMaXN0RWRpdEJpbmRpbmdzIHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xuXG4gICAgICAgIG5nRGlzYWJsZWQ6IGFueTtcbiAgICAgICAgcGlwQ3JlYXRlZDogYW55O1xuICAgICAgICBwaXBDaGFuZ2VkOiBhbnk7XG4gICAgICAgIGRvY3VtZW50czogYW55O1xuICAgICAgICBhZGRlZERvY3VtZW50OiBhbnk7XG4gICAgICAgIGRvY3VtZW50TGlzdFRleHQ6IGFueTtcbiAgICAgICAgZG9jdW1lbnRMaXN0SWNvbjogYW55O1xuICAgICAgICBjYW5jZWxEcmFnOiBhbnk7XG4gICAgfVxuXG4gICAgY29uc3QgRG9jdW1lbnRMaXN0RWRpdEJpbmRpbmdzOiBJRG9jdW1lbnRMaXN0RWRpdEJpbmRpbmdzID0ge1xuICAgICAgICBuZ0Rpc2FibGVkOiAnJj8nLFxuICAgICAgICBwaXBDcmVhdGVkOiAnJj8nLFxuICAgICAgICBwaXBDaGFuZ2VkOiAnJj8nLFxuICAgICAgICBkb2N1bWVudHM6ICc9P3BpcERvY3VtZW50cycsXG4gICAgICAgIGFkZGVkRG9jdW1lbnQ6ICcmP3BpcEFkZGVkRG9jdW1lbnQnLFxuICAgICAgICBkb2N1bWVudExpc3RUZXh0OiAnPD9waXBEZWZhdWx0VGV4dCcsXG4gICAgICAgIGRvY3VtZW50TGlzdEljb246ICc8P3BpcERlZmF1bHRJY29uJyxcbiAgICAgICAgY2FuY2VsRHJhZzogJzw/cGlwQ2Fuc2VsRHJhZydcbiAgICB9XG5cbiAgICBjbGFzcyBEb2N1bWVudExpc3RFZGl0Q2hhbmdlcyBpbXBsZW1lbnRzIG5nLklPbkNoYW5nZXNPYmplY3QsIElEb2N1bWVudExpc3RFZGl0QmluZGluZ3Mge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBuZy5JQ2hhbmdlc09iamVjdDxhbnk+O1xuICAgICAgICAvLyBOb3Qgb25lIHdheSBiaW5kaW5nc1xuICAgICAgICBuZ0Rpc2FibGVkOiBuZy5JQ2hhbmdlc09iamVjdDwoKSA9PiBuZy5JUHJvbWlzZTx2b2lkPj47XG4gICAgICAgIHBpcENyZWF0ZWQ6IG5nLklDaGFuZ2VzT2JqZWN0PCgpID0+IG5nLklQcm9taXNlPHZvaWQ+PjtcbiAgICAgICAgcGlwQ2hhbmdlZDogbmcuSUNoYW5nZXNPYmplY3Q8KCkgPT4gbmcuSVByb21pc2U8dm9pZD4+O1xuICAgICAgICBkb2N1bWVudHM6IG5nLklDaGFuZ2VzT2JqZWN0PEF0dGFjaG1lbnRbXT47XG4gICAgICAgIGFkZGVkRG9jdW1lbnQ6IG5nLklDaGFuZ2VzT2JqZWN0PCgpID0+IGJvb2xlYW4+O1xuICAgICAgICBkb2N1bWVudExpc3RUZXh0OiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xuICAgICAgICBkb2N1bWVudExpc3RJY29uOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xuICAgICAgICBjYW5jZWxEcmFnOiBuZy5JQ2hhbmdlc09iamVjdDwoKSA9PiBib29sZWFuPjtcbiAgICB9XG5cbiAgICBjbGFzcyBTZW5kZXJFdmVudCB7XG4gICAgICAgIHNlbmRlcjogRG9jdW1lbnRMaXN0RWRpdENvbnRyb2w7XG4gICAgfVxuXG4gICAgY2xhc3MgRG9jRXZlbnQge1xuICAgICAgICAkZXZlbnQ6IFNlbmRlckV2ZW50O1xuICAgICAgICAkY29udHJvbDogRG9jdW1lbnRMaXN0RWRpdENvbnRyb2w7XG4gICAgfVxuXG4gICAgY2xhc3MgRG9jdW1lbnRTdGF0ZXMge1xuICAgICAgICBzdGF0aWMgT3JpZ2luYWw6IHN0cmluZyA9ICdvcmlnaW5hbCc7XG4gICAgICAgIHN0YXRpYyBDb3BpZWQ6IHN0cmluZyA9ICdjb3BpZWQnO1xuICAgICAgICBzdGF0aWMgQWRkZWQ6IHN0cmluZyA9ICdhZGRlZCc7XG4gICAgICAgIHN0YXRpYyBFcnJvcjogc3RyaW5nID0gJ2Vycm9yJztcbiAgICAgICAgc3RhdGljIERlbGV0ZWQ6IHN0cmluZyA9ICdkZWxldGVkJztcbiAgICB9XG5cbiAgICBjbGFzcyBEb2N1bWVudExpc3RFZGl0Q29udHJvbGxlciB7XG4gICAgICAgIHByaXZhdGUgX3BpcFRyYW5zbGF0ZTogcGlwLnNlcnZpY2VzLklUcmFuc2xhdGVTZXJ2aWNlO1xuICAgICAgICBwcml2YXRlIF9lbGVtZW50RG9jdW1lbnREcm9wOiBKUXVlcnk7XG4gICAgICAgIHByaXZhdGUgX2l0ZW1QaW46IG51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZG9jdW1lbnRTdGFydFN0YXRlOiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgbG9hZGVkRmlsZXM6IGJvb2xlYW5cblxuICAgICAgICBwcml2YXRlIGNhbmNlbFF1ZXJ5OiBhbnk7XG5cbiAgICAgICAgcHVibGljIG5nRGlzYWJsZWQ6ICgpID0+IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBwaXBDcmVhdGVkOiAocGFyYW1zOiBEb2NFdmVudCkgPT4gdm9pZDtcbiAgICAgICAgcHVibGljIHBpcENoYW5nZWQ6IChwYXJhbXM6IERvY0V2ZW50KSA9PiB2b2lkO1xuICAgICAgICBwdWJsaWMgZG9jdW1lbnRzOiBBdHRhY2htZW50W107XG4gICAgICAgIHB1YmxpYyBhZGRlZERvY3VtZW50OiAoKSA9PiBib29sZWFuO1xuICAgICAgICBwdWJsaWMgY2FuY2VsRHJhZzogKCkgPT4gYm9vbGVhbjtcbiAgICAgICAgcHVibGljIGRvY3VtZW50TGlzdFRleHQ6IHN0cmluZztcbiAgICAgICAgcHVibGljIGRvY3VtZW50TGlzdEljb246IHN0cmluZztcbiAgICAgICAgcHVibGljIGljb25FcnJvcjogc3RyaW5nO1xuXG4gICAgICAgIHB1YmxpYyBjb250cm9sOiBEb2N1bWVudExpc3RFZGl0Q29udHJvbDtcblxuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgJGxvZzogbmcuSUxvZ1NlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICBwcml2YXRlICRpbmplY3RvcjogbmcuYXV0by5JSW5qZWN0b3JTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSBwaXBSZXN0OiBwaXAucmVzdC5JUmVzdFNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlIHBpcERvY3VtZW50RGF0YTogSURvY3VtZW50RGF0YVNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlIHBpcEZpbGVVcGxvYWQ6IHBpcC5maWxlcy5JRmlsZVVwbG9hZFNlcnZpY2VcblxuICAgICAgICApIHtcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICAgICAgdGhpcy5fcGlwVHJhbnNsYXRlID0gdGhpcy4kaW5qZWN0b3IuaGFzKCdwaXBUcmFuc2xhdGUnKSA/IDxwaXAuc2VydmljZXMuSVRyYW5zbGF0ZVNlcnZpY2U+dGhpcy4kaW5qZWN0b3IuZ2V0KCdwaXBUcmFuc2xhdGUnKSA6IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnREb2N1bWVudERyb3AgPSAkZWxlbWVudC5jaGlsZHJlbignLnBpcC1kb2N1bWVudC1kcm9wJyk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5kb2N1bWVudExpc3RUZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudExpc3RUZXh0ID0gJ0RPQ1VNRU5UX0xJU1RfRURJVF9URVhUJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5kb2N1bWVudExpc3RJY29uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudExpc3RJY29uID0gJ2RvY3VtZW50JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaWNvbkVycm9yID0gJ3dhcm4tY2lyY2xlJztcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRTdGFydFN0YXRlID0gdGhpcy50b0Jvb2xlYW4odGhpcy5hZGRlZERvY3VtZW50KSA/IERvY3VtZW50U3RhdGVzLkNvcGllZCA6IERvY3VtZW50U3RhdGVzLk9yaWdpbmFsO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgdXBsb2FkaW5nOiAwLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiB0aGlzLmdldEl0ZW1zKCksXG4gICAgICAgICAgICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldERvY3VtZW50KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzYXZlOiAoc3VjY2Vzc0NhbGxiYWNrPzogKGRhdGE6IEF0dGFjaG1lbnRbXSkgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86IChlcnJvcjogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZURvY3VtZW50KHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhYm9ydDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuZXhlY3V0ZUNhbGxiYWNrKCk7XG4gICAgICAgICAgICAvLyBBZGQgY2xhc3NcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1kb2N1bWVudC1saXN0LWVkaXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyAkb25DaGFuZ2VzKGNoYW5nZXM6IERvY3VtZW50TGlzdEVkaXRDaGFuZ2VzKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcy5kb2N1bWVudHMgJiYgY2hhbmdlcy5kb2N1bWVudHMuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfLmlzRXF1YWwodGhpcy5kb2N1bWVudHMsIGNoYW5nZXMuZG9jdW1lbnRzLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB0b0Jvb2xlYW4odmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSAnMScgfHwgdmFsdWUgPT0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRJdGVtcygpOiBEb2N1bWVudExpc3RFZGl0SXRlbVtdIHtcbiAgICAgICAgICAgIGxldCBpdGVtczogRG9jdW1lbnRMaXN0RWRpdEl0ZW1bXSA9IFtdO1xuICAgICAgICAgICAgbGV0IGk6IG51bWJlcjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRzID09PSBudWxsIHx8IHRoaXMuZG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZG9jdW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW06IERvY3VtZW50TGlzdEVkaXRJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBwaW46IHRoaXMuX2l0ZW1QaW4rKyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuZG9jdW1lbnRzW2ldLmlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmRvY3VtZW50c1tpXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB1cmk6IHRoaXMuZG9jdW1lbnRzW2ldLnVyaSxcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLmRvY3VtZW50U3RhcnRTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXRJdGVtcygpOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCBpdGVtOiBEb2N1bWVudExpc3RFZGl0SXRlbTtcbiAgICAgICAgICAgIGxldCBpOiBudW1iZXI7XG5cbiAgICAgICAgICAgIC8vIENsZWFuIHRoZSBhcnJheVxuICAgICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRzICYmIHRoaXMuZG9jdW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50cy5zcGxpY2UoMCwgdGhpcy5kb2N1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmNvbnRyb2wuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gdGhpcy5jb250cm9sLml0ZW1zW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKChpdGVtLmlkIHx8IGl0ZW0udXJpKSAmJiBpdGVtLnN0YXRlICE9IERvY3VtZW50U3RhdGVzLkRlbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0RvYzogQXR0YWNobWVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJpOiBpdGVtLnVyaVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50cy5wdXNoKG5ld0RvYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRVcGxvYWRFcm9ycygpOiBEb2N1bWVudFVwbG9hZEVycm9yc1tdIHtcbiAgICAgICAgICAgIGxldCBlcnJvcnM6IERvY3VtZW50VXBsb2FkRXJyb3JzW10gPSBbXTtcblxuICAgICAgICAgICAgXy5lYWNoKHRoaXMuY29udHJvbC5pdGVtcywgKGl0ZW06IERvY3VtZW50TGlzdEVkaXRJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3RhdGUgPT0gRG9jdW1lbnRTdGF0ZXMuRXJyb3IgfHwgaXRlbS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVyaTogaXRlbS51cmksXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogaXRlbS5lcnJvclxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzRGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sLnVwbG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5uZ0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmdEaXNhYmxlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSByZXNldERvY3VtZW50KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sLnVwbG9hZGluZyA9IDA7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wuaXRlbXMgPSB0aGlzLmdldEl0ZW1zKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGRlbGV0ZUl0ZW0oaXRlbTogRG9jdW1lbnRMaXN0RWRpdEl0ZW0sIGNhbGxiYWNrOiAoZXJyb3I/OiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGRvdWJsZSB0cmFuc2FjdGlvbnNcbiAgICAgICAgICAgIGlmIChpdGVtLnVwbG9hZCkge1xuICAgICAgICAgICAgICAgIGl0ZW0udXBsb2FkLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgaXRlbS51cGxvYWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXRlbS5zdGF0ZSAhPT0gRG9jdW1lbnRTdGF0ZXMuRGVsZXRlZCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgLy8gaWYgYXR0YWNobWVudCBieSB1cmlcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbShpdGVtKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHNhdmVEb2N1bWVudChzdWNjZXNzQ2FsbGJhY2s/OiAoZGF0YTogQXR0YWNobWVudFtdKSA9PiB2b2lkLCBlcnJvckNhbGxiYWNrPzogKGVycm9yOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCBpdGVtOiBEb2N1bWVudExpc3RFZGl0SXRlbTtcbiAgICAgICAgICAgIGxldCBvbkl0ZW1DYWxsYmFjazogKGVycm9yOiBhbnkpID0+IHZvaWQ7XG4gICAgICAgICAgICBsZXQgaTogbnVtYmVyO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sLnVwbG9hZGluZykge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soJ0VSUk9SX1RSQU5TQUNUSU9OX0lOX1BST0dSRVNTJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNhbmNlbFF1ZXJ5ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wudXBsb2FkaW5nID0gMDtcblxuICAgICAgICAgICAgbGV0IGFkZGVkQmxvYkNvbGxlY3Rpb24gPSBbXTtcbiAgICAgICAgICAgIGxldCBhZGRlZFVybENvbGxlY3Rpb24gPSBbXTtcblxuICAgICAgICAgICAgXy5lYWNoKHRoaXMuY29udHJvbC5pdGVtcywgKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5zdGF0ZSA9PSAnYWRkZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXRlbS51cmkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkQmxvYkNvbGxlY3Rpb24ucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkVXJsQ29sbGVjdGlvbi5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgbGV0IGRlbGV0ZWRDb2xsZWN0aW9uID0gXy5maWx0ZXIodGhpcy5jb250cm9sLml0ZW1zLCB7IHN0YXRlOiAnZGVsZXRlZCcgfSk7XG5cbiAgICAgICAgICAgIC8vIHByb2Nlc3MgYWRkZWRVcmxDb2xsZWN0aW9uXG4gICAgICAgICAgICBfLmVhY2goYWRkZWRVcmxDb2xsZWN0aW9uLCAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGl0ZW0udXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGl0ZW0udXBsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaXRlbS5wcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICAgICAgaXRlbS51cGxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGl0ZW0uZmlsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaXRlbS5zdGF0ZSA9IERvY3VtZW50U3RhdGVzLk9yaWdpbmFsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghYWRkZWRCbG9iQ29sbGVjdGlvbi5sZW5ndGggJiYgIWRlbGV0ZWRDb2xsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoYWRkZWRVcmxDb2xsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJdGVtcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2wudXBsb2FkaW5nID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayh0aGlzLmRvY3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wudXBsb2FkaW5nID0gYWRkZWRCbG9iQ29sbGVjdGlvbi5sZW5ndGggKyBkZWxldGVkQ29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICAgICAgICBhc3luYy5wYXJhbGxlbChbXG4gICAgICAgICAgICAgICAgKGNhbGxiYWNrQWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBkb2N1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGFkZGVkQmxvYkNvbGxlY3Rpb24sIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnVwbG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnByb2dyZXNzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGlwRmlsZVVwbG9hZC5tdWx0aVVwbG9hZChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGlwRG9jdW1lbnREYXRhLnBvc3REb2N1bWVudFVybCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWRCbG9iQ29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIChpbmRleDogbnVtYmVyLCBkYXRhOiBCbG9iSW5mbywgZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGFkZGVkQmxvYkNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkSXRlbShpdGVtLCBkYXRhLCBlcnIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2wuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoaW5kZXg6IG51bWJlciwgc3RhdGU6IHBpcC5maWxlcy5GaWxlVXBsb2FkU3RhdGUsIHByb2dyZXNzOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgaXRlbSBwcm9ncmVzcyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGFkZGVkQmxvYkNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoZXJyb3I6IGFueSwgcmVzdWx0OiBhbnksIHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgdXBsb2FkIGFib3J0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxRdWVyeSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2FuY2VsUXVlcnk6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsUXVlcnkgPSBjYW5jZWxRdWVyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdwaW4nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoY2FsbGJhY2tBbGwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVsZXRlIGRvY3VtZW50c1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRlZENvbGxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYy5lYWNoKGRlbGV0ZWRDb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpdGVtLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oaXRlbSwgKGVycm9yOiBhbnkpID0+IHsgY2FsbGJhY2soKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0FsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiAhdGhpcy5jb250cm9sLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2wuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250cm9sLmVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC51cGxvYWRpbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IHRoaXMuZ2V0VXBsb2FkRXJvcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhlcnJvcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsb2cuZXJyb3IodGhpcy5jb250cm9sLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SXRlbXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC51cGxvYWRpbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayh0aGlzLmRvY3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgYWRkSXRlbShvbGRJdGVtOiBEb2N1bWVudExpc3RFZGl0SXRlbSwgZmlsZUluZm86IEJsb2JJbmZvLCBlcnJvcjogYW55KSB7XG4gICAgICAgICAgICBsZXQgaXRlbUluZGV4ID0gXy5maW5kSW5kZXgodGhpcy5jb250cm9sLml0ZW1zLCB7IHBpbjogb2xkSXRlbS5waW4gfSk7XG4gICAgICAgICAgICBpZiAoaXRlbUluZGV4IDwgMCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLml0ZW1zW2l0ZW1JbmRleF0udXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2wuaXRlbXNbaXRlbUluZGV4XS51cGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2wuaXRlbXNbaXRlbUluZGV4XS5wcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLml0ZW1zW2l0ZW1JbmRleF0udXBsb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2wuaXRlbXNbaXRlbUluZGV4XS5zdGF0ZSA9IERvY3VtZW50U3RhdGVzLkVycm9yO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC5pdGVtc1tpdGVtSW5kZXhdLmVycm9yID0gZXJyb3I7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGVJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC5pdGVtc1tpdGVtSW5kZXhdLmlkID0gZmlsZUluZm8uaWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC5pdGVtc1tpdGVtSW5kZXhdLm5hbWUgPSBmaWxlSW5mby5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2wuaXRlbXNbaXRlbUluZGV4XS51cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC5pdGVtc1tpdGVtSW5kZXhdLnN0YXRlID0gRG9jdW1lbnRTdGF0ZXMuT3JpZ2luYWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLml0ZW1zW2l0ZW1JbmRleF0udXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLml0ZW1zW2l0ZW1JbmRleF0udXBsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLml0ZW1zW2l0ZW1JbmRleF0ucHJvZ3Jlc3MgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC5pdGVtc1tpdGVtSW5kZXhdLnVwbG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLml0ZW1zW2l0ZW1JbmRleF0uZmlsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLml0ZW1zW2l0ZW1JbmRleF0uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uQWJvcnQoKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgaXRlbTogRG9jdW1lbnRMaXN0RWRpdEl0ZW07XG4gICAgICAgICAgICBsZXQgaTogbnVtYmVyO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jb250cm9sLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHRoaXMuY29udHJvbC5pdGVtc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnVwbG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS51cGxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udXBsb2FkLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpdGVtLnVwbG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udXBsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucHJvZ3Jlc3MgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnVwbG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhYm9ydCB1cGxvYWRcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbmNlbFF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxRdWVyeS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBYm9ydCB0cmFuc2FjdGlvblxuICAgICAgICAgICAgdGhpcy5jb250cm9sLnVwbG9hZGluZyA9IDA7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wuZXJyb3IgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmlzdWFsaXphdGlvbiBmdW5jdGlvbnNcbiAgICAgICAgcHVibGljIGZpbHRlckl0ZW0oaXRlbTogRG9jdW1lbnRMaXN0RWRpdEl0ZW0pOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnN0YXRlICE9PSBEb2N1bWVudFN0YXRlcy5EZWxldGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyB1c2VyIGFjdGlvbnNcbiAgICAgICAgcHVibGljIHJlYWRJdGVtTG9jYWxseSh1cmw6IHN0cmluZywgZmlsZTogYW55KTogdm9pZCB7XG5cbiAgICAgICAgICAgIGxldCBpdGVtOiBEb2N1bWVudExpc3RFZGl0SXRlbSA9IHtcbiAgICAgICAgICAgICAgICBwaW46IHRoaXMuX2l0ZW1QaW4rKyxcbiAgICAgICAgICAgICAgICBpZDogbnVsbCxcbiAgICAgICAgICAgICAgICBuYW1lOiBmaWxlID8gZmlsZS5uYW1lIDogdXJsID8gdXJsLnNwbGl0KCcvJykucG9wKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgIHVyaTogIWZpbGUgJiYgdXJsID8gdXJsIDogbnVsbCxcbiAgICAgICAgICAgICAgICB1cGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVwbG9hZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICAgICAgICBmaWxlOiBmaWxlID8gZmlsZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgc3RhdGU6IERvY3VtZW50U3RhdGVzLkFkZGVkLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wuaXRlbXMucHVzaChpdGVtKTtcblxuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSByZW1vdmVJdGVtKGl0ZW06IERvY3VtZW50TGlzdEVkaXRJdGVtKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoaXRlbS5zdGF0ZSA9PT0gRG9jdW1lbnRTdGF0ZXMuQWRkZWQgfHwgaXRlbS5zdGF0ZSA9PT0gRG9jdW1lbnRTdGF0ZXMuQ29waWVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gXy5maW5kSW5kZXgodGhpcy5jb250cm9sLml0ZW1zLCB7IHBpbjogaXRlbS5waW4gfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtLnN0YXRlID0gRG9jdW1lbnRTdGF0ZXMuRGVsZXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkRlbGV0ZShpdGVtOiBEb2N1bWVudExpc3RFZGl0SXRlbSk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVJdGVtKGl0ZW0pO1xuXG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25LZXlEb3duKCRldmVudDogSlF1ZXJ5RXZlbnRPYmplY3QsIGl0ZW06IERvY3VtZW50TGlzdEVkaXRJdGVtKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIGlmICgkZXZlbnQua2V5Q29kZSA9PT0gNDYgfHwgJGV2ZW50LmtleUNvZGUgPT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVJdGVtKGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCRldmVudC5rZXlDb2RlID09PSAxMyB8fCAkZXZlbnQua2V5Q29kZSA9PT0gMzIpIHtcbiAgICAgICAgICAgICAgICAvLyAhISBBdm9pZCBjbGFzaCB3aXRoICRhcHBseSgpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnREb2N1bWVudERyb3AudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9uIGNoYW5nZSBldmVudFxuICAgICAgICBwdWJsaWMgb25DaGFuZ2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5waXBDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXBDaGFuZ2VkKHtcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50OiB7IHNlbmRlcjogdGhpcy5jb250cm9sIH0sXG4gICAgICAgICAgICAgICAgICAgICRjb250cm9sOiB0aGlzLmNvbnRyb2xcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZXhlY3V0ZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgLy8gRXhlY3V0ZSBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHRoaXMucGlwQ3JlYXRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGlwQ3JlYXRlZCh7XG4gICAgICAgICAgICAgICAgICAgICRldmVudDogeyBzZW5kZXI6IHRoaXMuY29udHJvbCB9LFxuICAgICAgICAgICAgICAgICAgICAkY29udHJvbDogdGhpcy5jb250cm9sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkb2N1bWVudExpc3RFZGl0OiBuZy5JQ29tcG9uZW50T3B0aW9ucyA9IHtcbiAgICAgICAgYmluZGluZ3M6IERvY3VtZW50TGlzdEVkaXRCaW5kaW5ncyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdkb2N1bWVudF9saXN0X2VkaXQvRG9jdW1lbnRMaXN0RWRpdC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogRG9jdW1lbnRMaXN0RWRpdENvbnRyb2xsZXJcbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoXCJwaXBEb2N1bWVudExpc3RFZGl0XCIsIFsndWkuZXZlbnQnLCAncGlwRm9jdXNlZCcsICdwaXBEb2N1bWVudHMuVGVtcGxhdGVzJywgJ3BpcEZpbGVzJywgJ0RvY3VtZW50VXJsRGlhbG9nJ10pXG4gICAgICAgIC5ydW4oQ29uZmlnVHJhbnNsYXRpb25zKVxuICAgICAgICAuY29tcG9uZW50KCdwaXBEb2N1bWVudExpc3RFZGl0JywgZG9jdW1lbnRMaXN0RWRpdCk7XG59XG5cbiIsImltcG9ydCB7IElEb2N1bWVudFVybERpYWxvZ1NlcnZpY2UgfSBmcm9tICcuL0lEb2N1bWVudFVybERpYWxvZ1NlcnZpY2UnO1xuXG5jbGFzcyBEb2N1bWVudFVybERpYWxvZ1NlcnZpY2UgaW1wbGVtZW50cyBJRG9jdW1lbnRVcmxEaWFsb2dTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9tZERpYWxvZzogYW5ndWxhci5tYXRlcmlhbC5JRGlhbG9nU2VydmljZTtcblxuICAgIGNvbnN0cnVjdG9yKCRtZERpYWxvZzogYW5ndWxhci5tYXRlcmlhbC5JRGlhbG9nU2VydmljZSkge1xuICAgICAgICB0aGlzLl9tZERpYWxvZyA9ICRtZERpYWxvZztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvdyhzdWNjZXNzQ2FsbGJhY2s/OiAocmVzdWx0KSA9PiB2b2lkLCBjYW5jZWxDYWxsYmFjaz86ICgpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5fbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2RvY3VtZW50X3VybF9kaWFsb2cvRG9jdW1lbnRVcmxEaWFsb2cuaHRtbCcsXG4gICAgICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgICAgICAgY29udHJvbGxlcjogRG9jdW1lbnRVcmxEaWFsb2dDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnJGN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5jb25zdCBDb25maWdEb2N1bWVudFVybERpYWxvZ1RyYW5zbGF0aW9ucyA9IChwaXBUcmFuc2xhdGVQcm92aWRlcjogcGlwLnNlcnZpY2VzLklUcmFuc2xhdGVQcm92aWRlcikgPT4ge1xuICAgIHBpcFRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICAgICdET0NVTUVOVF9GUk9NX1dFQkxJTksnOiAnQWRkIHdlYiBsaW5rJyxcbiAgICAgICAgJ0xJTktfRE9DVU1FTlQnOiAnTGluayB0byB0aGUgZG9jdW1lbnQuLi4nXG4gICAgfSk7XG4gICAgcGlwVHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdydScsIHtcbiAgICAgICAgJ0RPQ1VNRU5UX0ZST01fV0VCTElOSyc6ICfQlNC+0LHQsNCy0LjRgtGMINCy0LXQsSDRgdGB0YvQu9C60YMnLFxuICAgICAgICAnTElOS19ET0NVTUVOVCc6ICfQodGB0YvQu9C60LAg0L3QsCDQtNC+0LrRg9C80LXQvdGCLi4uJ1xuICAgIH0pO1xufVxuXG5jbGFzcyBEb2N1bWVudFVybERpYWxvZ0NvbnRyb2xsZXIge1xuICAgIHB1YmxpYyB1cmw6IHN0cmluZyA9ICcnO1xuICAgIHB1YmxpYyBpbnZhbGlkOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwdWJsaWMgdGhlbWU6IHN0cmluZztcbiAgICBwcml2YXRlIEV4cHJlc3Npb25VUkk6IGFueTtcbiAgICBwcml2YXRlIHJlZ2V4VVJJOiBhbnk7XG4gICAgcHVibGljIG1hdGNoVVJJOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgJGxvZzogbmcuSUxvZ1NlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgIHByaXZhdGUgJG1kRGlhbG9nOiBhbmd1bGFyLm1hdGVyaWFsLklEaWFsb2dTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgJG1kTWVudVxuICAgICkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgdGhpcy50aGVtZSA9IHRoaXMuJHJvb3RTY29wZVtwaXAudGhlbWVzLlRoZW1lUm9vdFZhcl07XG5cbiAgICAgICAgdGhpcy5FeHByZXNzaW9uVVJJID0gL14oW2Etel1bYS16MC05Ky4tXSopOig/OlxcL1xcLygoPzooPz0oKD86W2EtejAtOS0uX34hJCYnKCkqKyw7PTpdfCVbMC05QS1GXXsyfSkqKSkoXFwzKUApPyg/PShcXFtbMC05QS1GOi5dezIsfVxcXXwoPzpbYS16MC05LS5ffiEkJicoKSorLDs9XXwlWzAtOUEtRl17Mn0pKikpXFw1KD86Oig/PShcXGQqKSlcXDYpPykoXFwvKD89KCg/OlthLXowLTktLl9+ISQmJygpKissOz06QFxcL118JVswLTlBLUZdezJ9KSopKVxcOCk/fChcXC8/KD8hXFwvKSg/PSgoPzpbYS16MC05LS5ffiEkJicoKSorLDs9OkBcXC9dfCVbMC05QS1GXXsyfSkqKSlcXDEwKT8pKD86XFw/KD89KCg/OlthLXowLTktLl9+ISQmJygpKissOz06QFxcLz9dfCVbMC05QS1GXXsyfSkqKSlcXDExKT8oPzojKD89KCg/OlthLXowLTktLl9+ISQmJygpKissOz06QFxcLz9dfCVbMC05QS1GXXsyfSkqKSlcXDEyKT8kL2k7XG4gICAgICAgIHRoaXMucmVnZXhVUkkgPSBuZXcgUmVnRXhwKHRoaXMuRXhwcmVzc2lvblVSSSk7XG4gICAgICAgIHRoaXMubWF0Y2hVUkkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2tVcmwoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnVybC5tYXRjaCh0aGlzLnJlZ2V4VVJJKSkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaFVSSSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hdGNoVVJJID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBwdWJsaWMgb25DYW5jZWxDbGljaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy4kbWREaWFsb2cuY2FuY2VsKCk7XG4gICAgfTtcblxuICAgIHB1YmxpYyBvbkFkZENsaWNrKCk6IHZvaWQge1xuICAgICAgICB0aGlzLiRtZERpYWxvZy5oaWRlKHRoaXMudXJsKTtcbiAgICB9O1xuXG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdEb2N1bWVudFVybERpYWxvZycsIFsnbmdNYXRlcmlhbCcsICdwaXBEb2N1bWVudHMuVGVtcGxhdGVzJ10pXG4gICAgLnNlcnZpY2UoJ3BpcERvY3VtZW50VXJsRGlhbG9nJywgRG9jdW1lbnRVcmxEaWFsb2dTZXJ2aWNlKVxuICAgIC5jb25maWcoQ29uZmlnRG9jdW1lbnRVcmxEaWFsb2dUcmFuc2xhdGlvbnMpOyIsImltcG9ydCAnLi9kb2N1bWVudF91cmxfZGlhbG9nL0RvY3VtZW50VXJsRGlhbG9nU2VydmljZSc7XG5pbXBvcnQgJy4vZG9jdW1lbnRfdXJsX2RpYWxvZy9JRG9jdW1lbnRVcmxEaWFsb2dTZXJ2aWNlJztcbmltcG9ydCAnLi9kb2N1bWVudF9saXN0L0RvY3VtZW50TGlzdCc7XG5pbXBvcnQgJy4vZG9jdW1lbnRfbGlzdF9lZGl0L0RvY3VtZW50TGlzdEVkaXQnO1xuaW1wb3J0ICcuL3Jlc3QnO1xuaW1wb3J0ICcuL2RhdGEnO1xuaW1wb3J0ICcuL2FkZF9kb2N1bWVudHMvQWRkRG9jdW1lbnQnO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwRG9jdW1lbnRzJywgW1xuICAgICAgICAnRG9jdW1lbnRVcmxEaWFsb2cnLFxuICAgICAgICAncGlwQWRkRG9jdW1lbnQnLCAgICAgICAgXG4gICAgICAgICdwaXBEb2N1bWVudHMuUmVzdCcsXG4gICAgICAgICdwaXBEb2N1bWVudHMuRGF0YScsXG4gICAgICAgICdwaXBEb2N1bWVudExpc3QnLFxuICAgICAgICAncGlwRG9jdW1lbnRMaXN0RWRpdCdcbiAgICBdKTtcblxuZXhwb3J0ICogZnJvbSAnLi9kb2N1bWVudF91cmxfZGlhbG9nL0lEb2N1bWVudFVybERpYWxvZ1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9kb2N1bWVudF9saXN0L0RvY3VtZW50TGlzdCc7XG5leHBvcnQgKiBmcm9tICcuL2RvY3VtZW50X2xpc3RfZWRpdC9Eb2N1bWVudExpc3RFZGl0JztcbmV4cG9ydCAqIGZyb20gJy4vZGF0YSc7XG4iLCIvLyBjb25maWd1cmVkIFJlc3QgcmVzb3VyY2VcbmZ1bmN0aW9uIGNvbmZpZ0RvY3VtZW50UmVzb3VyY2VzKHBpcFJlc3RQcm92aWRlcjogcGlwLnJlc3QuSVJlc3RQcm92aWRlcikge1xuICAgIHBpcFJlc3RQcm92aWRlci5yZWdpc3RlclBhZ2VkQ29sbGVjdGlvbignZG9jdW1lbnRzJywgJy9hcGkvMS4wL2Jsb2JzLzpkb2N1bWVudF9pZCcsXG4gICAgICAgIHsgYmxvYl9pZDogJ0Bkb2N1bWVudF9pZCcgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZTogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZSB9LFxuICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcgfVxuICAgICAgICB9KTtcbiAgICBwaXBSZXN0UHJvdmlkZXIucmVnaXN0ZXJSZXNvdXJjZSgnZG9jdW1lbnRJbmZvJywgJy9hcGkvMS4wL2Jsb2JzLzpkb2N1bWVudF9pZC9pbmZvJyk7XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBEb2N1bWVudHMuUmVzdCcpXG4gICAgLmNvbmZpZyhjb25maWdEb2N1bWVudFJlc291cmNlcyk7XG5cblxuIiwiZnVuY3Rpb24gY29uZmlnRmlsZVJlc291cmNlcyhwaXBSZXN0UHJvdmlkZXI6IHBpcC5yZXN0LklSZXN0UHJvdmlkZXIpIHtcbiAgICBwaXBSZXN0UHJvdmlkZXIucmVnaXN0ZXJQYWdlZENvbGxlY3Rpb24oJ2ZpbGVzJywgJy9hcGkvMS4wL2ZpbGVzLzpmaWxlX2lkJyk7XG59XG4vLyB0aGlzLnJlZ2lzdGVyUm91dGUoJ2dldCcsICcvZmlsZXMnLCB0aGlzLmdldEZpbGVzKTtcbi8vIHRoaXMucmVnaXN0ZXJSb3V0ZSgnZ2V0JywgJy9maWxlcy86ZmlsZV9pZCcsIHRoaXMuZ2V0RmlsZSk7XG4vLyB0aGlzLnJlZ2lzdGVyUm91dGVXaXRoQXV0aCgncG9zdCcsICcvZmlsZXMnLCB0aGlzLl9hdXRoLmFkbWluKCksIHRoaXMuY3JlYXRlRmlsZSk7XG4vLyB0aGlzLnJlZ2lzdGVyUm91dGVXaXRoQXV0aCgncHV0JywgJy9maWxlcy86ZmlsZV9pZCcsIHRoaXMuX2F1dGguYWRtaW4oKSwgdGhpcy51cGRhdGVGaWxlKTtcbi8vIHRoaXMucmVnaXN0ZXJSb3V0ZVdpdGhBdXRoKCdkZWwnLCAnL2ZpbGVzLzpmaWxlX2lkJywgdGhpcy5fYXV0aC5hZG1pbigpLCB0aGlzLmRlbGV0ZUZpbGUpO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwRG9jdW1lbnRzLlJlc3QnKVxuICAgIC5jb25maWcoY29uZmlnRmlsZVJlc291cmNlcyk7XG4iLCJcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcERvY3VtZW50cy5SZXN0JywgW10pO1xuXG5pbXBvcnQgJy4vRG9jdW1lbnRSZXNvdXJjZXMnO1xuaW1wb3J0ICcuL0ZpbGVSZXNvdXJjZXMnO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcERvY3VtZW50cy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcERvY3VtZW50cy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FkZF9kb2N1bWVudHMvQWRkRG9jdW1lbnQuaHRtbCcsXG4gICAgJzxtZC1tZW51PlxcbicgK1xuICAgICcgICAgICAgIDxuZy10cmFuc2NsdWRlIGNsYXNzPVwicGlwLWFkZC1pbWFnZS1vcGVuLWJ1dHRvblwiIG5nLWNsaWNrPVwidm0ub3Blbk1lbnUoJG1kT3Blbk1lbnUpXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIHh4eG5nLWNsaWNrPVwidm0ubmdEaXNhYmxlZCgpID8gXFwnXFwnIDogJG1kT3Blbk1lbnUoKVwiPjwvbmctdHJhbnNjbHVkZT5cXG4nICtcbiAgICAnICAgICAgICA8bWQtbWVudS1jb250ZW50IHdpZHRoPVwiNFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtbWVudS1pdGVtPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cImxheW91dC1yb3cgbGF5b3V0LWFsaWduLXN0YXJ0LWNlbnRlclwiIGFjY2VwdD1cImltYWdlLypcIlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1rZXlkb3duPVwidm0ub25LZXlEb3duKCRldmVudClcIiBuZy1tdWx0aXBsZT1cInZtLmlzTXVsdGkoKVwiXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLWZpbGUtc2VsZWN0IG5nLWZpbGUtY2hhbmdlPVwidm0ub25GaWxlQ2hhbmdlKCRmaWxlcylcIiBuZy1jbGljaz1cInZtLmhpZGVNZW51KClcIiBuZy1maWxlLWRyb3A+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPG1kLWljb24gY2xhc3M9XCJ0ZXh0LWhlYWRsaW5lIHRleHQtZ3JleSBybTI0LWZsZXhcIiBtZC1zdmctaWNvbj1cImljb25zOmZvbGRlclwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtZ3JleVwiPnt7IDo6XFwnRklMRV9ET0NVTUVOVFNcXCcgfCB0cmFuc2xhdGUgfX08L3NwYW4+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L21kLWJ1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9tZC1tZW51LWl0ZW0+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1tZW51LWl0ZW0+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwibGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tc3RhcnQtY2VudGVyXCIgbmctY2xpY2s9XCJ2bS5vbldlYkxpbmtDbGljaygpXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPG1kLWljb24gY2xhc3M9XCJ0ZXh0LWhlYWRsaW5lIHRleHQtZ3JleSBybTI0LWZsZXhcIiBtZC1zdmctaWNvbj1cImljb25zOndlYmxpbmtcIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWdyZXlcIj57eyA6OlxcJ1dFQl9MSU5LXFwnIHwgdHJhbnNsYXRlIH19PC9zcGFuPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9tZC1idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvbWQtbWVudS1pdGVtPlxcbicgK1xuICAgICcgICAgICAgIDwvbWQtbWVudS1jb250ZW50PlxcbicgK1xuICAgICcgICAgPC9tZC1tZW51PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcERvY3VtZW50cy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcERvY3VtZW50cy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2RvY3VtZW50X2xpc3QvRG9jdW1lbnRMaXN0Lmh0bWwnLFxuICAgICc8bWQtYnV0dG9uIGNsYXNzPVwicGlwLWRvY3VtZW50cy1uYW1lXCIgbmctY2xhc3M9XCJ7XFwnbHAyNC1mbGV4IHJwMTZcXCc6ICRjdHJsLnBpcERvY3VtZW50SWNvbiB9XCIgbmctY2xpY2s9XCIkY3RybC5vblRpdGxlQ2xpY2soJGV2ZW50KTsgJGN0cmwub25SZXNpemUoKVwiXFxuJyArXG4gICAgJyAgICBhcmlhLWxhYmVsPVwiUkVTSVpFXCI+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgPGRpdiBjbGFzcz1cImxheW91dC1hbGlnbi1zdGFydC1jZW50ZXIgbGF5b3V0LXJvdyB3LXN0cmV0Y2hcIj5cXG4nICtcbiAgICAnICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOmRvY3VtZW50XCIgbmctY2xhc3M9XCJ7XFwncGlwLWljb25cXCc6ICRjdHJsLnBpcERvY3VtZW50SWNvbn1cIiBuZy1pZj1cIiRjdHJsLnBpcERvY3VtZW50SWNvblwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICA8c3BhbiBjbGFzcz1cInBpcC1kb2N1bWVudHMtdGV4dFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICB7eyAkY3RybC5kb2N1bWVudHMubGVuZ3RoIH19IHt7IDo6XFwnRE9DVU1FTlRTX0FUVEFDSEVEXFwnIHwgdHJhbnNsYXRlIH19XFxuJyArXG4gICAgJyAgICAgICAgPC9zcGFuPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICA8bWQtaWNvbiBjbGFzcz1cImljb24tdXBcIiBtZC1zdmctaWNvbj1cImljb25zOnRyaWFuZ2xlLXVwXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgIDxtZC1pY29uIGNsYXNzPVwiaWNvbi1kb3duXCIgbWQtc3ZnLWljb249XCJpY29uczp0cmlhbmdsZS1kb3duXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJzwvbWQtYnV0dG9uPlxcbicgK1xuICAgICc8ZGl2IHBpcC1mb2N1c2VkIGNsYXNzPVwicGlwLWRvY3VtZW50cy1jb250YWluZXIgYm04XCIgbmctY2xhc3M9XCJ7IFxcJ2xwMjQtZmxleCBycDI0LWZsZXhcXCc6ICRjdHJsLnBpcERvY3VtZW50SWNvbiB9XCI+XFxuJyArXG4gICAgJyAgICA8bWQtYnV0dG9uIGNsYXNzPVwicGlwLWRvY3VtZW50LWRvd25sb2FkIG1kLXByaW1hcnlcIiBuZy1pZj1cImRvY3VtZW50LnVyaVwiIG5nLWNsYXNzPVwie1xcJ3BpcC1mb2N1c2FibGVcXCcgOiAhJGN0cmwubmdEaXNhYmxlZCgpfVwiXFxuJyArXG4gICAgJyAgICAgICAgaHJlZj1cInt7IGRvY3VtZW50LnVyaSB9fVwiIHRhcmdldD1cIl9ibGFua1wiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZCgpIHx8ICRjdHJsLmRvY3VtZW50LmVycm9yXCIgXFxuJyArXG4gICAgJyAgICAgICAgbmctcmVwZWF0PVwiZG9jdW1lbnQgaW4gJGN0cmwuZG9jdW1lbnRzIHRyYWNrIGJ5ICRpbmRleFwiXFxuJyArXG4gICAgJyAgICAgICAgYXJpYS1sYWJlbD1cIkRPQ1VNRU5UXCI+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtZGVmYXVsdC1pY29uXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwiaWNvbnM6e3s6OiRjdHJsLmRvY3VtZW50TGlzdEljb259fVwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwicGlwLWRvY3VtZW50LXRpdGxlXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIHt7IDo6ZG9jdW1lbnQubmFtZSB9fVxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9tZC1idXR0b24+XFxuJyArXG4gICAgJyAgICA8bWQtYnV0dG9uIGNsYXNzPVwicGlwLWRvY3VtZW50LWRvd25sb2FkIG1kLXByaW1hcnlcIiBuZy1pZj1cIiFkb2N1bWVudC51cmlcIiBuZy1jbGFzcz1cIntcXCdwaXAtZm9jdXNhYmxlXFwnIDogISRjdHJsLm5nRGlzYWJsZWQoKX1cIlxcbicgK1xuICAgICcgICAgICAgIG5nLWNsaWNrPVwiJGN0cmwub25Eb3dubG9hZChkb2N1bWVudClcIiB0YXJnZXQ9XCJfYmxhbmtcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWQoKSB8fCAkY3RybC5kb2N1bWVudC5lcnJvclwiIFxcbicgK1xuICAgICcgICAgICAgIG5nLXJlcGVhdD1cImRvY3VtZW50IGluICRjdHJsLmRvY3VtZW50cyB0cmFjayBieSAkaW5kZXhcIlxcbicgK1xuICAgICcgICAgICAgIGFyaWEtbGFiZWw9XCJET0NVTUVOVFwiPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwicGlwLWRlZmF1bHQtaWNvblwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOnt7OjokY3RybC5kb2N1bWVudExpc3RJY29ufX1cIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInBpcC1kb2N1bWVudC10aXRsZVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICB7eyA6OmRvY3VtZW50Lm5hbWUgfX1cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICc8L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBEb2N1bWVudHMuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBEb2N1bWVudHMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdkb2N1bWVudF9saXN0L0RvY3VtZW50TGlzdENvbGxhcHNlLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGlwLWRvY3VtZW50cy1uYW1lXCIgbmctY2xpY2s9XCIkY3RybC5vblRpdGxlQ2xpY2soJGV2ZW50KTsgJGN0cmwub25SZXNpemUoKVwiPlxcbicgK1xuICAgICcgICAgPHNwYW4gY2xhc3M9XCJwaXAtZG9jdW1lbnRzLXRleHRcIj5cXG4nICtcbiAgICAnICAgICAgICB7eyBkb2N1bWVudHMubGVuZ3RoIH19IHt7IDo6XFwnRE9DVU1FTlRTX0FUVEFDSEVEXFwnIHwgdHJhbnNsYXRlIH19XFxuJyArXG4gICAgJyAgICA8L3NwYW4+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgPG1kLWljb24gY2xhc3M9XCJpY29uLXVwXCIgbWQtc3ZnLWljb249XCJpY29uczp0cmlhbmdsZS11cFwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgIDxtZC1pY29uIGNsYXNzPVwiaWNvbi1kb3duXCIgbWQtc3ZnLWljb249XCJpY29uczp0cmlhbmdsZS1kb3duXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICc8L2Rpdj5cXG4nICtcbiAgICAnPGRpdiBwaXAtZm9jdXNlZCBjbGFzcz1cInBpcC1kb2N1bWVudHMtY29udGFpbmVyIGJtOFwiPlxcbicgK1xuICAgICcgICAgPG1kLWJ1dHRvbiBjbGFzcz1cInBpcC1kb2N1bWVudC1kb3dubG9hZCBwaXAtZm9jdXNhYmxlIG1kLXByaW1hcnlcIlxcbicgK1xuICAgICcgICAgICAgICAgICAgICBocmVmPVwie3s6OiRjdHJsLmRvY3VtZW50LnVybH19XCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgbmctcmVwZWF0PVwiZG9jdW1lbnQgaW4gJGN0cmwuZG9jdW1lbnRzIHRyYWNrIGJ5IGRvY3VtZW50LmlkXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRPQ1VNRU5UXCI+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInBpcC1kZWZhdWx0LWljb25cIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczp7ezo6JGN0cmwuaWNvbn19XCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJwaXAtZG9jdW1lbnQtdGl0bGVcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAge3sgOjokY3RybC5kb2N1bWVudC5uYW1lIH19XFxuJyArXG4gICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgJyAgICA8L21kLWJ1dHRvbj5cXG4nICtcbiAgICAnPC9kaXY+XFxuJyArXG4gICAgJycpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcERvY3VtZW50cy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcERvY3VtZW50cy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2RvY3VtZW50X2xpc3RfZWRpdC9Eb2N1bWVudExpc3RFZGl0Lmh0bWwnLFxuICAgICc8ZGl2IHBpcC1mb2N1c2FibGU+XFxuJyArXG4gICAgJ1x0PGRpdiBjbGFzcz1cInBpcC1kb2N1bWVudC11cGxvYWQgcG9pbnRlciBtZC1wcmltYXJ5IFwiXFxuJyArXG4gICAgJ1x0XHQgbmctY2xhc3M9XCJ7XFwncGlwLWZvY3VzYWJsZVxcJyA6ICEkY3RybC5uZ0Rpc2FibGVkKCksIFxcJ3BpcC1pdGVtLWVycm9yXFwnIDogaXRlbS5zdGF0ZSA9PSBcXCdlcnJvclxcJ31cIlxcbicgK1xuICAgICdcdFx0IG5nLWtleWRvd249XCIkY3RybC5vbktleURvd24oJGV2ZW50LCBpdGVtKVwiXFxuJyArXG4gICAgJ1x0XHQgdGFiaW5kZXg9XCJ7eyAkY3RybC5uZ0Rpc2FibGVkKCkgPyAtMSA6IDAgfX1cIlxcbicgK1xuICAgICdcdFx0IG5nLXJlcGVhdD1cIml0ZW0gaW4gJGN0cmwuY29udHJvbC5pdGVtcyB8IGZpbHRlcjogJGN0cmwuZmlsdGVySXRlbSB0cmFjayBieSAkaW5kZXhcIj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1x0XHQ8ZGl2IGNsYXNzPVwicGlwLWRlZmF1bHQtaWNvblwiXFxuJyArXG4gICAgJ1x0XHRcdCBuZy1jbGFzcz1cInsgXFwncGlwLWRvY3VtZW50LW5ld1xcJzogaXRlbS5zdGF0ZSA9PSBcXCdhZGRlZFxcJyB8fCBpdGVtLnN0YXRlID09IFxcJ2NvcGllZFxcJyB9XCI+XFxuJyArXG4gICAgJ1x0XHRcdDxtZC1pY29uIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIiBjbGFzcz1cIm1kLXByaW1hcnlcIiBuZy1pZj1cIml0ZW0uc3RhdGUgPT0gXFwnb3JpZ2luYWxcXCcgfHwgaXRlbS5zdGF0ZSA9PSBcXCdhZGRlZFxcJ1wiXFxuJyArXG4gICAgJ1x0XHRcdFx0XHQgbWQtc3ZnLWljb249XCJpY29uczp7ezo6JGN0cmwuZG9jdW1lbnRMaXN0SWNvbn19XCI+XFxuJyArXG4gICAgJ1x0XHRcdDwvbWQtaWNvbj5cXG4nICtcbiAgICAnXHRcdFx0PG1kLWljb24gcGlwLWNhbmNlbC1kcmFnPVwidHJ1ZVwiIGNsYXNzPVwibWQtd2FyblwiIG5nLWlmPVwiaXRlbS5zdGF0ZSA9PSBcXCdlcnJvclxcJ1wiXFxuJyArXG4gICAgJ1x0XHRcdFx0XHQgbWQtc3ZnLWljb249XCJpY29uczp7ezo6JGN0cmwuaWNvbkVycm9yfX1cIj5cXG4nICtcbiAgICAnXHRcdFx0PC9tZC1pY29uPlxcbicgK1xuICAgICdcdFx0PC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcdFx0PGRpdiBjbGFzcz1cInBpcC1kb2N1bWVudC10aXRsZVwiIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIj5cXG4nICtcbiAgICAnXHRcdFx0e3sgaXRlbS5uYW1lIH19XFxuJyArXG4gICAgJ1x0XHQ8L2Rpdj5cXG4nICtcbiAgICAnXHRcdDxtZC1idXR0b24gbmctY2xpY2s9XCIkY3RybC5vbkRlbGV0ZShpdGVtKVwiXFxuJyArXG4gICAgJ1x0XHRcdFx0ICAgbmctZGlzYWJsZWQ9XCIkY3RybC5pc0Rpc2FibGVkKClcIlxcbicgK1xuICAgICdcdFx0XHRcdCAgIHRhYmluZGV4PVwiLTFcIlxcbicgK1xuICAgICdcdFx0XHRcdCAgIG5nLWhpZGU9XCIkY3RybC5uZ0Rpc2FibGVkKClcIlxcbicgK1xuICAgICdcdFx0XHRcdCAgIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIiBhcmlhLWxhYmVsPVwiREVMRVRFXCI+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcdFx0XHQ8bWQtaWNvbiBtZC1zdmctaWNvbj1cImljb25zOmNyb3NzXCIgcGlwLWNhbmNlbC1kcmFnPVwidHJ1ZVwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnXHRcdDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICdcdFx0PG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwiZGV0ZXJtaW5hdGVcIiBuZy1zaG93PVwiaXRlbS51cGxvYWRpbmdcIiBuZy12YWx1ZT1cIml0ZW0ucHJvZ3Jlc3NcIj48L21kLXByb2dyZXNzLWxpbmVhcj5cXG4nICtcbiAgICAnXHQ8L2Rpdj5cXG4nICtcbiAgICAnXHRcXG4nICtcbiAgICAnXHQ8YnV0dG9uIGNsYXNzPVwicGlwLWRvY3VtZW50LXVwbG9hZCBwaXAtZG9jdW1lbnQtZHJvcCBcIlxcbicgK1xuICAgICdcdFx0XHRuZy1jbGFzcz1cIntcXCdwaXAtZm9jdXNhYmxlXFwnIDogISRjdHJsLm5nRGlzYWJsZWQoKX1cIlxcbicgK1xuICAgICdcdFx0XHRuZy1rZXlkb3duPVwiJGN0cmwub25LZXlEb3duKCRldmVudClcIiB0YWJpbmRleD1cIjBcIlxcbicgK1xuICAgICdcdFx0XHR4eHhuZy1maWxlLWRyb3AgeHh4bmctZmlsZS1zZWxlY3QgeHh4bmctZmlsZS1jaGFuZ2U9XCIkY3RybC5vblNlbGVjdCgkZmlsZXMpXCJcXG4nICtcbiAgICAnXHRcdFx0cGlwLWNoYW5nZWQ9XCIkY3RybC5yZWFkSXRlbUxvY2FsbHkodXJsLCBmaWxlKVwiXFxuJyArXG4gICAgJ1x0XHRcdHh4bmctbXVsdGlwbGU9XCJ0cnVlXCJcXG4nICtcbiAgICAnXHRcdFx0cGlwLW11bHRpPVwidHJ1ZVwiXFxuJyArXG4gICAgJ1x0XHRcdG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZCgpXCJcXG4nICtcbiAgICAnXHRcdFx0YXJpYS1sYWJlbD1cIlVQTE9BRFwiICBwaXAtYWRkLWRvY3VtZW50PlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnXHRcdDxkaXYgY2xhc3M9XCJwaXAtZGVmYXVsdC1pY29uXCI+XFxuJyArXG4gICAgJ1x0XHRcdDxtZC1pY29uIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIiBtZC1zdmctaWNvbj1cImljb25zOnt7IDo6JGN0cmwuZG9jdW1lbnRMaXN0SWNvbiB9fVwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnXHRcdDwvZGl2PlxcbicgK1xuICAgICdcdFx0PGRpdiBjbGFzcz1cInBpcC1kZWZhdWx0LXRleHRcIj5cXG4nICtcbiAgICAnXHRcdFx0PHNwYW4+XFxuJyArXG4gICAgJ1x0XHRcdFx0e3sgJGN0cmwuZG9jdW1lbnRMaXN0VGV4dCB8IHRyYW5zbGF0ZSB9fVxcbicgK1xuICAgICdcdFx0XHQ8L3NwYW4+XFxuJyArXG4gICAgJ1x0XHQ8L2Rpdj5cXG4nICtcbiAgICAnXHQ8L2J1dHRvbj5cXG4nICtcbiAgICAnXHQ8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cXG4nICtcbiAgICAnPC9kaXY+XFxuJyArXG4gICAgJycpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcERvY3VtZW50cy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcERvY3VtZW50cy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2RvY3VtZW50X3VybF9kaWFsb2cvRG9jdW1lbnRVcmxEaWFsb2cuaHRtbCcsXG4gICAgJzxtZC1kaWFsb2cgY2xhc3M9XCJwaXAtZGlhbG9nIHBpcC1kb2N1bWVudC11cmwtZGlhbG9nIHBpcC1kb2N1bWVudC1kaWFsb2cgbGF5b3V0LWNvbHVtblwiXFxuJyArXG4gICAgJyAgICAgICAgICAgbWQtdGhlbWU9XCJ7eyAkY3RybC50aGVtZSB9fVwiPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgIDxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cInBpcC1ib2R5IGxwMCBycDAgdHAwIHBpcC1zY3JvbGxcIj5cXG4nICtcbiAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwicGlwLWhlYWRlciBibTE2IGxheW91dC1yb3cgbGF5b3V0LWFsaWduLXN0YXJ0LWNlbnRlclwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtYnV0dG9uICBuZy1jbGljaz1cIiRjdHJsLm9uQ2FuY2VsQ2xpY2soKVwiIGNsYXNzPVwibWQtaWNvbi1idXR0b24gbG0wXCJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInt7IDo6XFwnQ0FOQ0VMXFwnIHwgdHJhbnNsYXRlIH19XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bWQtaWNvbiBjbGFzcz1cInRleHQtZ3JleVwiIG1kLXN2Zy1pY29uPVwiaWNvbnM6YXJyb3ctbGVmdFwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9tZC1idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtdGl0bGUgbTBcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIHt7IDo6XFwnRE9DVU1FTlRfRlJPTV9XRUJMSU5LXFwnIHwgdHJhbnNsYXRlfX1cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9oMz5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInBpcC1jb250ZW50IGxwMTYgcnAxNlwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyIG1kLW5vLWZsb2F0IGNsYXNzPVwidy1zdHJldGNoIHRleHQtc3ViaGVhZDFcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiJGN0cmwudXJsXCIgbmctY2hhbmdlPVwiJGN0cmwuY2hlY2tVcmwoKVwiIHBsYWNlaG9sZGVyPVwie3sgOjpcXCdMSU5LX0RPQ1VNRU5UXFwnIHwgdHJhbnNsYXRlIH19XCIvPlxcbicgK1xuICAgICcgICAgICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+XFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwicGlwLWZvb3RlclwiPlxcbicgK1xuICAgICcgICAgICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCIkY3RybC5vbkNhbmNlbENsaWNrKClcIiBhcmlhLWxhYmVsPVwie3sgOjpcXCdDQU5DRUxcXCcgfCB0cmFuc2xhdGUgfX1cIj5cXG4nICtcbiAgICAnICAgICAgICAgICAge3sgOjpcXCdDQU5DRUxcXCcgfCB0cmFuc2xhdGUgfX1cXG4nICtcbiAgICAnICAgICAgICA8L21kLWJ1dHRvbj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWFjY2VudFwiIG5nLWNsaWNrPVwiJGN0cmwub25BZGRDbGljaygpXCIgXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwie3sgOjpcXCdBRERcXCcgfCB0cmFuc2xhdGUgfX1cIiBuZy1kaXNhYmxlZD1cIiEkY3RybC5tYXRjaFVSSVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICB7eyA6OlxcJ0FERFxcJyB8IHRyYW5zbGF0ZSB9fVxcbicgK1xuICAgICcgICAgICAgIDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJzwvbWQtZGlhbG9nPicpO1xufV0pO1xufSkoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwLXN1aXRlLWRvY3VtZW50cy1odG1sLmpzLm1hcFxuIl19"}